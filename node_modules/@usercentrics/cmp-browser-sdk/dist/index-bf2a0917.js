function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},e(t,n)};function n(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}var s,i,r,o=function(){return o=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e,n,s){return new(n||(n=Promise))((function(i,r){function o(t){try{c(s.next(t))}catch(e){r(e)}}function a(t){try{c(s.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((s=s.apply(t,e||[])).next())}))}function c(t,e){var n,s,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,s=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(a){r=[6,a],s=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var s,i,r=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function l(t,e,n){if(n||2===arguments.length)for(var s,i=0,r=e.length;i<r;i++)!s&&i in e||(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}!function(t){t.CONSENT_RESPONSE="consent-response",t.CONSENT_UI="consent-ui"}(s||(s={})),function(t){t.ACCEPT="accept",t.REJECT="reject",t.DISMISS="dismiss",t.FULLSCREEN="enter-fullscreen",t.READY="ready"}(i||(i={})),function(t){t[t.TCF_V2=2]="TCF_V2",t[t.CCPA=3]="CCPA"}(r||(r={}));var d,g,h,p,f,v,S,I,y,C,T;!function(t){t[t.FALSE=0]="FALSE",t[t.TRUE=1]="TRUE"}(d||(d={})),function(t){t[t.DATA_LAYER=0]="DATA_LAYER",t[t.WINDOW_EVENT=1]="WINDOW_EVENT"}(g||(g={})),function(t){t[t.MAJOR=0]="MAJOR",t[t.MINOR=1]="MINOR",t[t.PATCH=2]="PATCH"}(h||(h={})),function(t){t.CALL_INIT="Usercentrics: You have to call the init method before!",t.DATA_LOCAL="Usercentrics: disableServerConsents and controllerId should not be present at the same time in the InitOptions!",t.UNKNOWN_VARIANT="Usercentrics: Unknown variant",t.NOT_CCPA="Usercentrics: CCPA was not initialized",t.NOT_DEFAULT="Usercentrics: GDPR was not initialized",t.NOT_TCF="Usercentrics: TCF was not initialized"}(p||(p={})),function(t){t.BANNER="BANNER",t.WALL="WALL"}(f||(f={})),function(t){t.CENTER="CENTER",t.SIDE="SIDE"}(v||(v={})),function(t){t[t.DARK=0]="DARK",t[t.LIGHT=1]="LIGHT"}(S||(S={})),function(t){t.LINK="LINK",t.BUTTON="BUTTON",t.MORE_LINK_BUTTON="MORE_LINK_BUTTON"}(I||(I={})),function(t){t.LEFT="LEFT",t.RIGHT="RIGHT"}(y||(y={})),function(t){t.HORIZONTAL="HORIZONTAL",t.VERTICAL="VERTICAL"}(C||(C={})),function(t){t.ALL="ALL",t.SHORT="SHORT"}(T||(T={}));var m="3.7.0",A=function(t,e){return-1!==t.indexOf(e)},E=function(){return"SDK-".concat("3.7.0")},b=function(){return parseInt("3",10)},L=function(t){return Array.isArray(t)&&t.length>0},_=function(e){return"object"===t(e)&&null!==e&&Object.keys(e).length>0},D=function(t,e){if(void 0===e)throw new Error("altElement of nullishOperation can not be undefined");return null!=t?t:e},O=function(t,e,n,s,i){return{applicationVersion:E(),consent:{action:n,status:e.consent.status,type:s},service:{id:e.id,name:e.name,processorId:e.processorId,version:e.version},settings:{controllerId:t.controllerId,id:t.id,language:t.selectedLanguage,referrerControllerId:D(null==i?void 0:i.referrerControllerId,""),version:t.version},timestamp:D(null==i?void 0:i.timestamp,(new Date).valueOf())}},N=function(t,e){return t.reduce((function(t,n){var s=e[n];if(!(null==s?void 0:s.name))return t;var i=s.name;return l(l([],u(t),!1),[{id:n,name:i}],!1)}),[])};function w(t){return l([],u(new Set(t)),!1)}function R(t){return new Promise((function(e,n){return t.then(n,e)}))}function U(t){return R((e=t.map(R),new Promise((function(t,n){var s=e.length,i=[],r=function(){0==(s-=1)&&t(i)};e.forEach((function(t,e){t.then((function(t){i[e]=t}),n).then(r)}))}))));var e}var F,P,V,B,M,k,G,x,H,J=function(e){return e&&"object"===t(e)},j=function t(e,n,s){void 0===s&&(s=!1);var i=o({},n);if(!J(i))throw new Error("Source param should be an object");return J(e)?(Object.keys(e).forEach((function(n){var r,a,c,u,l,d=e[n],g=i[n];void 0!==g&&(i=Array.isArray(d)&&Array.isArray(g)?o(o({},i),s?((r={})[n]=(l=d.concat(g)).filter((function(t,e){return l.indexOf(t)===e})),r):((a={})[n]=d,a)):J(d)&&J(g)?o(o({},i),((c={})[n]=t(o({},d),g),c)):o(o({},i),((u={})[n]=d,u)))})),i):i},Y=function(t,e,n,s){return void 0===n&&(n=2e4),void 0===s&&(s=5),new Promise((function(i,r){var o=setInterval((function(){t()&&(clearTimeout(a),clearInterval(o),i())}),s),a=setTimeout((function(){clearTimeout(a),clearInterval(o),r(new Error(e))}),n)}))},W=function(t,e){for(var n=t.split("."),s=e.split("."),i=Math.min(n.length,s.length),r=0;r<i;r+=1){var o=Number(n[r])||0,a=Number(s[r])||0;if(o!==a)return o>a?1:-1}return s.length-n.length};!function(t){t[t.COOKIE=0]="COOKIE",t[t.WEB=1]="WEB",t[t.APP=2]="APP"}(F||(F={})),function(t){t.LEFT="LEFT",t.CENTER="CENTER",t.RIGHT="RIGHT"}(P||(P={})),function(t){t.AVAILABLE_LANGUAGES_NOT_FOUND="Unable to find available languages using given settingsId and version.",t.FETCH_AVAILABLE_LANGUAGES="Something went wrong while fetching the available languages.",t.FETCH_DATA_PROCESSING_SERVICES="Something went wrong while fetching the data processing services.",t.FETCH_LEGAL_BASIS="Something went wrong while fetching the legal data translations.",t.FETCH_SETTINGS="Something went wrong while fetching the settings.",t.FETCH_USER_CONSENTS="Something went wrong while fetching the user's consents.",t.FETCH_USER_COUNTRY="Something went wrong while fetching the user's country.",t.FETCH_USER_TCF_DATA="Something went wrong while fetching the user's tcf data.",t.GENERATE_DATA_PROCESSING_SERVICES="Something went wrong while generating the data processing services.",t.RULESET_NOT_FOUND="Config Map not found!",t.SAVE_CONSENTS="Something went wrong while saving user consents.",t.SETTINGS_NOT_FOUND="Unable to find settings using given settingsId and version."}(V||(V={})),function(t){t.US_CA_ONLY="US_CA_ONLY",t.US="US"}(B||(B={})),function(t){t[t.FIRST_LAYER=1]="FIRST_LAYER",t[t.SECOND_LAYER=3]="SECOND_LAYER"}(M||(M={})),function(t){t[t.DATA_LAYER=1]="DATA_LAYER",t[t.WINDOW_EVENT=4]="WINDOW_EVENT"}(k||(k={})),function(t){t.DATA_COLLECTED_LIST="dataCollectedList",t.DATA_PURPOSES_LIST="dataPurposesList",t.DATA_RECIPIENTS_LIST="dataRecipientsList",t.TECHNOLOGY_USED="technologyUsed"}(G||(G={})),function(t){t.MAJOR="major",t.MINOR="minor",t.PATCH="patch"}(x||(x={})),function(t){t.ICON="ICON",t.LINK="LINK"}(H||(H={}));var K,q=function(t,e){return"boolean"==typeof t?t:e},z=function(t){if(!t)return null;var e=t.startsWith("#")?t:"#".concat(t);return $(e)?e:"#0045A5"},$=function(t){return!(""===t||!t)&&new RegExp("^#(?:[0-9a-fA-F]{3}){1,2}$").test(t)},Q=function(t){if(null!=t.firstLayer.isOverlayEnabled)return t.firstLayer.isOverlayEnabled;var e=t.backgroundOverlay.find((function(t){var e;return(null===(e=t.target)||void 0===e?void 0:e[0])===M.FIRST_LAYER}));return!!e&&(null==e?void 0:e.darken)>0},X=function(t){if(null!=t.secondLayer.isOverlayEnabled)return t.secondLayer.isOverlayEnabled;var e=t.backgroundOverlay.find((function(t){var e;return(null===(e=t.target)||void 0===e?void 0:e[0])===M.SECOND_LAYER}));return!!e&&(null==e?void 0:e.darken)>0},Z=function(t){return"number"==typeof t||"string"==typeof t&&!t.includes("px")?"".concat(t,"px"):t},tt=function(t){switch(t){case P.CENTER:return"center";case P.RIGHT:return"right";default:case P.LEFT:return"left"}},et={description:"",deviceStorage:null,id:"",legalBasis:[],name:""},nt=function t(e,n){return e.reduce((function(e,s){var i=n.find((function(t){return t.id===s.id}));return l(l([],u(e),!1),[o(o(o({},s),i||et),{subServices:t(s.subServices,n)})],!1)}),[])},st=function(t){return null!=t&&null!=t.region},it=function(t){return null!=t&&null!=t.changedPurposes},rt=function(t){return null!=t&&!st(t)&&!it(t)},ot=function(t){var e;return null!=t&&null!=(null===(e=t.buttons)||void 0===e?void 0:e.optOutNotice)},at=function(t){return null!=t&&null!=t.vendor},ct=function(t){var e;return null!=t&&null!=(null===(e=t.buttons)||void 0===e?void 0:e.showSecondLayer)},ut=function(t){var e,n;return null!=t&&null!=(null===(e=t.firstLayer)||void 0===e?void 0:e.showShortDescriptionOnMobile)&&null==(null===(n=t.firstLayer)||void 0===n?void 0:n.isCategoryTogglesEnabled)},lt=function(t){var e;return null!=t&&null!=(null===(e=t.firstLayer)||void 0===e?void 0:e.hideNonIabPurposes)},dt=function(t){var e;return null!=t&&null!=(null===(e=t.firstLayer)||void 0===e?void 0:e.isCategoryTogglesEnabled)},gt=function(t){return null!=t&&!ut(t)&&!dt(t)&&!lt(t)},ht="BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Oxygen-Sans, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, Helvetica, Arial, sans-serif",pt=14,ft="#336AB7",vt="#dedede",St="#595959",It="#ffffff",yt="8px",Ct=.7,Tt={acceptAllButton:"Accept All",ccpaButton:"Agree to CCPA",ccpaMoreInformation:"More Information",closeButton:"Close Second Layer",collapse:"Collapse",cookiePolicyButton:"Open Cookie Policy",copyControllerId:"Copy Controller ID",denyAllButton:"Deny all",expand:"Expand",fullscreenButton:"Enter full screen",imprintButton:"Open Imprint",languageSelector:"Select language",privacyButton:"Open",privacyPolicyButton:"Open Privacy Policy",saveButton:"Save",serviceInCategoryDetails:"View Service details",servicesInCategory:"List of Services in this category",tabButton:"Tab",usercentricsCard:"Card",usercentricsCMPButtons:"Footer including buttons",usercentricsCMPContent:"Content",usercentricsCMPHeader:"Header including language selection and external links",usercentricsCMPUI:"Consent Management Platform Interface",usercentricsList:"List",vendorConsentToggle:"Consent",vendorDetailedStorageInformation:"Detailed Storage Information",vendorLegIntToggle:"Legitimate Interest"},mt="https://www.usercentrics.com/",At=function(t,e){var n,s,i,r,o,a,c,u,l,d,g=t.labels;return{cnil:{denyLabel:(null===(n=null==e?void 0:e.labels)||void 0===n?void 0:n.CNIL_DENY_LINK_TEXT)||"Continuer sans accepter"},cookieInformation:{anyDomain:g.anyDomain||"any domain (ex. first party cookie)",cookieRefresh:(null===(s=null==e?void 0:e.labels)||void 0===s?void 0:s.COOKIE_REFRESH)||(null===(i=null==e?void 0:e.labels)||void 0===i?void 0:i.COOKIE_REFRESH)||"Cookie Refresh",cookieStorage:(null===(r=null==e?void 0:e.labels)||void 0===r?void 0:r.COOKIE_STORAGE)||(null===(o=null==e?void 0:e.labels)||void 0===o?void 0:o.COOKIE_STORAGE)||"Cookie Storage",day:g.day,days:g.days,description:g.storageInformationDescription||"Below you can see the longest potential duration for storage on a device, as set when using the cookie method of storage and if there are any other methods used.",domain:g.domain||"Domain",duration:g.duration||"Duration",error:g.informationLoadingNotPossible||"Sorry; we could not load the required information.",hour:g.hour,hours:g.hours,identifier:g.identifier||"Identifier",loading:g.loadingStorageInformation||"Loading storage information",maximumAge:g.maximumAgeCookieStorage||"Maximum age of cookie storage",minute:g.minute,minutes:g.minutes,month:g.month,months:g.months,multipleDomains:g.multipleDomains||"multiple subdomains may exist",name:g.name||"Name",no:g.no||"no",nonCookieStorage:g.nonCookieStorage||"Non-cookie storage",purposes:g.purposes||"Purposes",second:g.second||"second",seconds:g.seconds||"seconds",session:g.session||"Session",storedInformation:g.storedInformation||"Stored Information",storedInformationDescription:g.storedInformationDescription||"This service uses different means of storing information on a user's device as listed below.",title:g.storageInformation||"Storage Information",titleDetailed:g.detailedStorageInformation||"Detailed Storage Information",tryAgain:g.tryAgain||"Try again?",type:g.type||"Type",year:g.year,years:g.years,yes:g.yes||"yes"},general:{back:(null===(a=null==e?void 0:e.labels)||void 0===a?void 0:a.BACK)||"Back",consentGiven:g.accepted,consentNotGiven:g.denied,consentType:g.consentType,controllerId:"Controller ID",copied:g.copied,copy:g.copy,date:g.date,decision:g.decision,details:(null===(c=null==e?void 0:e.labels)||void 0===c?void 0:c.DETAILS)||"Details",explicit:g.explicit,implicit:g.implicit,implicitNo:g.noImplicit,implicitYes:g.yesImplicit,showLess:g.readLess,showMore:g.btnBannerReadMore||g.showMore,subservice:(null===(u=null==e?void 0:e.labels)||void 0===u?void 0:u.SUB_SERVICE)||"Subservice",subservices:(null===(l=null==e?void 0:e.labels)||void 0===l?void 0:l.SUB_SERVICES)||"Subservices",subservicesDescription:(null===(d=null==e?void 0:e.labels)||void 0===d?void 0:d.SUB_SERVICES_DESCRIPTION)||"Below you can find all the services that are subordinate to this service. The current consent status of this service applies to all subservices."},service:{dataCollected:{description:g.dataCollectedInfo,title:g.dataCollectedList},dataDistribution:{processingLocationDescription:g.locationofProcessingInfo,processingLocationTitle:g.locationOfProcessing,thirdPartyCountriesDescription:g.transferToThirdCountriesInfo,thirdPartyCountriesTitle:g.transferToThirdCountries},dataProtectionOfficer:{description:g.dataProtectionOfficerInfo,title:g.dataProtectionOfficer},dataPurposes:{description:g.dataPurposesInfo,title:g.dataPurposes},dataRecipients:{description:g.dataRecipientsListInfo,title:g.dataRecipientsList},descriptionTitle:g.descriptionOfService,history:{description:null,title:g.history},legalBasis:{description:g.legalBasisInfo,title:g.legalBasisList},processingCompanyTitle:g.processingCompany,retentionPeriod:{description:g.retentionPeriodInfo,title:g.retentionPeriod},technologiesUsed:{description:g.technologiesUsedInfo,title:g.technologiesUsed},urls:{cookiePolicyTitle:g.cookiePolicyInfo,optOutTitle:g.optOut,privacyPolicyTitle:g.policyOf}}}},Et=function(t,e){var n,s,i,r,o,a,c,u,l,d,g,h,p,f,v,S,y,T,m,A,E,b,L,_,O,N,w,R=e.customization,U=e.labels;return{customCss:(null===(n=e.features)||void 0===n?void 0:n.customCss)&&e.useUnsafeCustomCss&&null!=e.stylesCss?e.stylesCss:null,customization:{button:{alignment:(null==R?void 0:R.buttonAlignment)||C.HORIZONTAL,borderRadius:Z(D(null==R?void 0:R.borderRadiusButton,"4px"))},color:{accentColor:D(z(null===(s=null==R?void 0:R.color)||void 0===s?void 0:s.tabsBorderColor),"#DDDDDD"),acceptBtn:{backgroundColor:z(null===(i=null==R?void 0:R.color)||void 0===i?void 0:i.acceptBtnBackground),textColor:z(null===(r=null==R?void 0:R.color)||void 0===r?void 0:r.acceptBtnText)},denyButton:{backgroundColor:z(null===(o=null==R?void 0:R.color)||void 0===o?void 0:o.denyBtnBackground),textColor:z(null===(a=null==R?void 0:R.color)||void 0===a?void 0:a.denyBtnText)},layerBackground:D(z(null===(c=null==R?void 0:R.color)||void 0===c?void 0:c.layerBackground),"#ffffff"),linkFontColor:D(z(null===(u=null==R?void 0:R.color)||void 0===u?void 0:u.linkFont),"#303030"),linkIconColor:D(z(null===(l=null==R?void 0:R.color)||void 0===l?void 0:l.linkIcon),"#595959"),moreBtn:{backgroundColor:D(z(null===(d=null==R?void 0:R.color)||void 0===d?void 0:d.moreBtnBackground),"#0045A5"),textColor:D(z(null===(g=null==R?void 0:R.color)||void 0===g?void 0:g.moreBtnText),"#FAFAFA")},overlayColor:D(z(null===(h=null==R?void 0:R.color)||void 0===h?void 0:h.overlay),"#333"),primary:D(z(null===(p=null==R?void 0:R.color)||void 0===p?void 0:p.primary),"#0045A5"),saveButton:{backgroundColor:z(null===(f=null==R?void 0:R.color)||void 0===f?void 0:f.saveBtnBackground),textColor:z(null===(v=null==R?void 0:R.color)||void 0===v?void 0:v.saveBtnText)},secondLayerTab:z(null===(S=null==R?void 0:R.color)||void 0===S?void 0:S.secondLayerTab),textFontColor:D(z(null===(y=null==R?void 0:R.color)||void 0===y?void 0:y.text),"#303030")},firstLayer:{secondLayerTrigger:D(e.firstLayer.secondLayerTrigger,I.LINK)},font:{family:D(null===(T=null==R?void 0:R.font)||void 0===T?void 0:T.family,ht),size:D(null===(m=null==R?void 0:R.font)||void 0===m?void 0:m.size,14)},layer:{borderRadius:Z(D(null==R?void 0:R.borderRadiusLayer,"8px"))},logo:{altTag:D(null==R?void 0:R.logoAltTag,null),position:tt(e.firstLayer.logoPosition),url:D(null==R?void 0:R.logoUrl,null)},overlay:{opacity:D(null==R?void 0:R.overlayOpacity,.7)},privacyButton:{backgroundColor:D(z(null===(A=null==R?void 0:R.color)||void 0===A?void 0:A.privacyButtonBackground),null),desktopSize:D(null==R?void 0:R.privacyButtonSizeDesktop,null),iconColor:D(z(null===(E=null==R?void 0:R.color)||void 0===E?void 0:E.privacyButtonIcon),null),mobileSize:D(null==R?void 0:R.privacyButtonSizeMobile,null)},theme:1,toggle:{active:{backgroundColor:z(null===(b=null==R?void 0:R.color)||void 0===b?void 0:b.toggleActiveBackground)||"#336AB7",iconColor:z(null===(L=null==R?void 0:R.color)||void 0===L?void 0:L.toggleActiveIcon)||"#ffffff"},disabled:{backgroundColor:z(null===(_=null==R?void 0:R.color)||void 0===_?void 0:_.toggleDisabledBackground)||"#dedede",iconColor:z(null===(O=null==R?void 0:R.color)||void 0===O?void 0:O.toggleDisabledIcon)||"#ffffff"},inactive:{backgroundColor:z(null===(N=null==R?void 0:R.color)||void 0===N?void 0:N.toggleInactiveBackground)||"#595959",iconColor:z(null===(w=null==R?void 0:R.color)||void 0===w?void 0:w.toggleInactiveIcon)||"#ffffff"}},useBackgroundShadow:D(null==R?void 0:R.useBackgroundShadow,!0)},isEmbeddingsEnabled:!0,language:{available:t.language.available,selected:t.language.selected},links:{cookiePolicy:{ariaLabel:Tt.cookiePolicyButton,label:D(U.cookiePolicyLinkText,""),url:e.cookiePolicyUrl},imprint:{ariaLabel:Tt.imprintButton,label:U.imprintLinkText||null,url:e.imprintUrl},privacyPolicy:{ariaLabel:Tt.privacyPolicyButton,label:U.privacyPolicyLinkText,url:e.privacyPolicyUrl}},poweredBy:{isEnabled:e.enablePoweredBy,label:"Powered by",partnerUrl:D(e.partnerPoweredByUrl,null),partnerUrlLabel:D(e.labels.partnerPoweredByLinkText,null),url:"https://www.usercentrics.com/",urlLabel:"Usercentrics Consent Management"},privacyButton:{iconUrl:e.buttonPrivacyOpenIconUrl||null,isEnabled:e.privacyButtonIsVisible,position:e.buttonDisplayLocation||"bl"},showCookieInformation:e.showCookieInformation}},bt=function(t,e,n){var s=At(t,n);return{cookieInformation:o(o({},s.cookieInformation),{purposes:e.labelsPurposes}),general:{features:e.labelsFeatures,iabVendors:e.labelsIabVendors,nonIabPurposes:e.labelsNonIabPurposes,nonIabVendors:e.labelsNonIabVendors,purposes:e.labelsPurposes},nonTCFLabels:s,vendor:{features:e.vendorFeatures,legitimateInterest:e.vendorLegitimateInterestPurposes,privacyPolicy:t.labels.privacyPolicyLinkText,purposes:e.vendorPurpose,specialFeatures:e.vendorSpecialFeatures,specialPurposes:e.vendorSpecialPurposes,toggleAll:e.labelsActivateAllVendors}}},Lt=function(t){return{categories:t.categories,consentTemplates:t.consentTemplates}},_t=function(){function t(){this.ampEnabled=!1}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.resetInstance=function(){t.instance.ampEnabled=!1},t.prototype.isAmpEnabled=function(){return this.ampEnabled},t.prototype.setIsAmpEnabled=function(t){this.ampEnabled=t},t}(),Dt={EU_URI:{AGGREGATOR:"https://aggregator.eu.usercentrics.eu/aggregate/",CDN:"https://config.eu.usercentrics.eu",FETCH_CONSENTS:"https://consents.eu.usercentrics.eu/consentsHistory",FETCH_TCF_DATA:"https://consents.usercentrics.eu/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://consents.usercentrics.eu/consentState",GRAPHQL:"https://api.eu.usercentrics.eu/graphql",TRACK_EVENT:"https://uct.eu.usercentrics.eu/uct"},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:{AGGREGATOR:"https://aggregator.service.usercentrics.eu/aggregate/",CDN:"https://api.usercentrics.eu",FETCH_CONSENTS:"https://consents.usercentrics.eu/consentsHistory",FETCH_TCF_DATA:"https://consents.usercentrics.eu/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://consents.usercentrics.eu/consentState",GRAPHQL:"https://graphql.usercentrics.eu/graphql",RULESET:"https://api.usercentrics.eu",SAVE_CONSENTS_V2:"https://consent-api.service.consent.usercentrics.eu/consent",TRACK_EVENT:"https://uct.service.usercentrics.eu/uct"}},Ot={EU_URI:{AGGREGATOR:"https://aggregator.service.usercentrics-sandbox.eu/aggregate/",CDN:"https://api.usercentrics-sandbox.eu",FETCH_CONSENTS:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistory",FETCH_TCF_DATA:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentState",GRAPHQL:"https://api-v2-sandbox-consent-dot-usercentrics-playground.nw.r.appspot.com/",TRACK_EVENT:"https://uct.eu.usercentrics.eu/uct"},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:{AGGREGATOR:"https://aggregator.service.usercentrics-sandbox.eu/aggregate/",CDN:"https://api.usercentrics-sandbox.eu",FETCH_CONSENTS:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistory",FETCH_TCF_DATA:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentState",GRAPHQL:"https://api-v2-sandbox-consent-dot-usercentrics-playground.nw.r.appspot.com/",RULESET:"https://api.usercentrics-sandbox.eu",SAVE_CONSENTS_V2:"https://consent-api.service.consent.usercentrics-staging.eu/consent",TRACK_EVENT:"https://uct.service.usercentrics.eu/uct"}},Nt={countryCode:"DE",countryName:"Germany (default)",regionCode:""},wt=function(t,e,n){return a(void 0,void 0,void 0,(function(){return c(this,(function(s){return[2,Ut(t,e,null,n)]}))}))},Rt=function(t,e,n,s){return a(void 0,void 0,void 0,(function(){return c(this,(function(i){return[2,Ut(t,n,e,s)]}))}))},Ut=function(t,e,n,s){return a(void 0,void 0,void 0,(function(){var i,r;return c(this,(function(u){return i={"content-type":"application/json"},r=o(o({},s),{headers:i,method:n?"POST":"GET"}),n&&(r.body=JSON.stringify(n)),(null==s?void 0:s.headers)&&(r.headers=o(o({},i),s.headers)),[2,fetch(t,r).then((function(t){return a(void 0,void 0,void 0,(function(){return c(this,(function(n){if(t.ok)return[2,Pt(t)];throw Ft(e,t.status)}))}))}))]}))}))},Ft=function(t,e){return{errorMessage:t,statusCode:e}},Pt=function(t){return a(void 0,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,Vt(t)];case 1:return[2,{data:e.sent(),location:t.headers.get("x-client-geo-location"),statusCode:t.status}]}}))}))},Vt=function(t){return a(void 0,void 0,void 0,(function(){var e,n;return c(this,(function(s){switch(s.label){case 0:return[4,t.text()];case 1:return e=s.sent(),[2,(n=""===e?{}:JSON.parse(e)).data||n]}}))}))};!function(t){t[t.RESOURCE_NOT_FOUND=403]="RESOURCE_NOT_FOUND"}(K||(K={}));var Bt,Mt,kt,Gt,xt,Ht=1,Jt="1---",jt="__uspapiLocator",Yt=/^[1][nNyY-][nNyY-][nNyY-]$/,Wt="__uspapi";!function(t){t.CCPA="uc_usprivacy",t.CCPA_DATA="uc_ccpa",t.CONSENTS_BUFFER="uc_consents_buffer",t.LEGACY_SETTINGS="ucSettings",t.SERVICES="uc_services",t.SETTINGS="uc_settings",t.TCF="uc_tcf",t.USER_INTERACTION="uc_user_interaction"}(Bt||(Bt={})),function(t){t.USER_COUNTRY="uc_user_country"}(Mt||(Mt={})),function(t){t.CROSS_DEVICE_DATA_NOT_AVAILABLE="Usercentrics: Cross Device Consents data is not available",t.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE="Usercentrics: Cross Device TCF data is not available"}(kt||(kt={})),function(t){t.CROSS_DOMAIN_DATA_NOT_AVAILABLE="Usercentrics: Cross Domain Consents data is not available",t.CROSS_DOMAIN_TCF_DATA_NOT_AVAILABLE="Usercentrics: Cross Domain TCF data is not available",t.CROSS_DOMAIN_FEATURE_NOT_AVAILABLE="Usercentrics: Cross Domain Consent Sharing is not available.",t.CROSS_DOMAIN_LANGUAGE_NOT_AVAILABLE="Usercentrics: Cross Domain Consent language is not available",t.CROSS_DOMAIN_SET_DATA_FAILURE="Usercentrics: Unable to set Cross Domain data",t.CROSS_DOMAIN_SET_TCF_DATA_FAILURE="Usercentrics: Unable to set Cross Domain TCF data",t.CROSS_DOMAIN_IFRAME_ERROR="Usercentrics: Iframe error",t.CROSS_DOMAIN_IFRAME_NOT_FOUND="Usercentrics: Cross Domain iFrame not found",t.CROSS_DOMAIN_IFRAME_LOAD_ERROR="Usercentrics: IFrame did not load"}(Gt||(Gt={})),function(t){t.CLEAR="clear",t.GET_CROSS_DOMAIN_LANGUAGE="getCrossDomainLanguage",t.GET_CROSS_DOMAIN_SESSION_DATA="getCrossDomainSessionData",t.GET_CROSS_DOMAIN_TCF_DATA="getCrossDomainTcfData",t.GET_CROSS_DOMAIN_CCPA_DATA="getCrossDomainCcpaData",t.GET_TC_STRING="getTCString",t.PING="ping",t.SET_CROSS_DOMAIN_DATA="setCrossDomainData",t.SET_CROSS_DOMAIN_TCF_DATA="setCrossDomainTcfData",t.SET_CROSS_DOMAIN_CCPA_DATA="setCrossDomainCcpaData",t.SET_TC_STRING="setTCString"}(xt||(xt={}));var Kt,qt,zt,$t,Qt="https://app.usercentrics.eu/browser-sdk/".concat("3.7.0","/cross-domain-bridge.html"),Xt="https://app.eu.usercentrics.eu/browser-sdk/".concat("3.7.0","/cross-domain-bridge.html"),Zt=function(){function t(){}return t.setDomainBridgeUri=function(e){var n="";e&&(e.crossDomainConsentSharingIFrame?n=e.crossDomainConsentSharingIFrame:e.app&&(n="".concat(e.app,"/browser-sdk/").concat("3.7.0","/cross-domain-bridge.html")));var s=""!==n?n:Qt,i=Xt;t.domainBridgeUri=t.useEuCdn?i:s},t.getDomainBridgeUri=function(){return t.domainBridgeUri},t.init=function(e,n){return a(this,void 0,void 0,(function(){return c(this,(function(s){return t.setDomainBridgeUri(n),t.setUseEuCdn((null==e?void 0:e.useEuCdn)||!1),[2,this.initIFrame(t.getDomainBridgeUri(),"uc-cross-domain-bridge")]}))}))},t.initIFrame=function(e,n){return a(this,void 0,void 0,(function(){var s=this;return c(this,(function(i){return[2,new Promise((function(i,r){var o=t.createIFrame(e,n);o.onload=function(){return a(s,void 0,void 0,(function(){var s;return c(this,(function(a){return s=setTimeout((function(){o={},r(new Error(Gt.CROSS_DOMAIN_IFRAME_LOAD_ERROR))}),1e3),t.queryIFrame(e,n,xt.PING).then((function(){clearTimeout(s),i(!0)})).catch((function(t){clearTimeout(s),r(t)})),[2]}))}))},o.onerror=function(){return a(s,void 0,void 0,(function(){return c(this,(function(t){return r(new Error(Gt.CROSS_DOMAIN_IFRAME_ERROR)),[2]}))}))},t.appendIFrame(o)}))]}))}))},t.setIsCrossDomainAvailable=function(e){t.crossDomainAvailable=e},t.isCookieBridgeAvailable=function(){return t.cookieBridgeAvailable},t.setIsCookieBridgeAvailable=function(e){t.cookieBridgeAvailable=e},t.isCrossDomainAvailable=function(){return t.crossDomainAvailable},t.getCrossDomainId=function(){return t.crossDomainId},t.setCrossDomainId=function(e){t.crossDomainId="".concat("uc_cross_domain_data","_").concat(e)},t.setCookieBridgeDomain=function(t,e){this.cookieBridgeDomain="".concat(t).concat(e)},t.setUseEuCdn=function(e){t.useEuCdn=e},t.createIFrame=function(e,n){t.removeIFrame(n);var s=document.createElement("iframe");return s.style.display="none",s.id=n,s.src=e,s},t.removeIFrame=function(t){var e=document.getElementById(t);e&&e.parentNode&&e.parentNode.removeChild(e)},t.queryIFrame=function(t,e,n,s,i){return a(this,void 0,void 0,(function(){var r;return c(this,(function(o){if(!(r=document.getElementById(e))||!r.id)throw new Error(Gt.CROSS_DOMAIN_IFRAME_NOT_FOUND);return[2,new Promise((function(e,o){var a=JSON.stringify({crossDomainId:i,method:n,payload:s}),c=new MessageChannel;c.port1.onmessage=function(t){var n=JSON.parse(t.data),s=n.success,i=n.data;s?e(i):o(t)},r&&r.contentWindow&&r.contentWindow.postMessage(a,t,[c.port2])}))]}))}))},t.appendIFrame=function(t){try{document.body?document.body.appendChild(t):document.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(t)}))}catch(e){return new Error(Gt.CROSS_DOMAIN_IFRAME_ERROR)}return null},t.query=function(e,n){return a(this,void 0,void 0,(function(){return c(this,(function(s){return[2,t.queryIFrame(t.getDomainBridgeUri(),"uc-cross-domain-bridge",e,n,t.crossDomainId)]}))}))},t.getCrossDomainLanguage=function(){return t.query(xt.GET_CROSS_DOMAIN_LANGUAGE)},t.setCrossDomainData=function(e){return a(this,void 0,void 0,(function(){return c(this,(function(n){return[2,t.query(xt.SET_CROSS_DOMAIN_DATA,(s=e,{consents:s.services.map((function(t){return t.history.map((function(e){return{action:e.action,consentId:"",settingsVersion:e.versions.settings,status:e.status,templateId:t.id,timestamp:"".concat(e.timestamp),updatedBy:e.type}}))})).reduce((function(t,e){return t.concat(e)}),[]).sort((function(t,e){return parseInt(t.timestamp,10)-parseInt(e.timestamp,10)})),controllerId:s.controllerId,language:s.language}))];var s}))}))},t.setCrossDomainCcpaData=function(e){return a(this,void 0,void 0,(function(){return c(this,(function(n){return[2,t.query(xt.SET_CROSS_DOMAIN_CCPA_DATA,e)]}))}))},t.getCrossDomainCcpaData=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){return[2,t.query(xt.GET_CROSS_DOMAIN_CCPA_DATA)]}))}))},t.getCrossDomainSessionData=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){return[2,t.query(xt.GET_CROSS_DOMAIN_SESSION_DATA)]}))}))},t.getCrossDomainTcfData=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){return[2,t.query(xt.GET_CROSS_DOMAIN_TCF_DATA)]}))}))},t.setCrossDomainTcfData=function(e){return a(this,void 0,void 0,(function(){return c(this,(function(n){return[2,t.query(xt.SET_CROSS_DOMAIN_TCF_DATA,e)]}))}))},t.clearCrossDomainStorage=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){return[2,t.query(xt.CLEAR)]}))}))},t.crossDomainId="",t.cookieBridgeDomain="",t.domainBridgeUri=Qt,t.useEuCdn=!1,t.cookieBridgeAvailable=!1,t.crossDomainAvailable=!1,t}();!function(t){t.COOKIE_BRIDGE_NOT_AVAILABLE="Usercentrics: Cookie bridge is not available.",t.COOKIE_BRIDGE_OPTIONS_NOT_SET="Usercentrics: Cookie bridge options are not set",t.GET_GLOBAL_TC_STRING_FAILURE="Usercentrics: Unable to get the Global TC string",t.INIT_TCF_ERROR="Usercentrics: Unable to init TCF",t.RESET_GVL_FAILURE="Usercentrics: Unable to reset Global Vendor List",t.SET_GLOBAL_TC_STRING_FAILURE="Usercentrics: Unable to set the Global TC string",t.VENDOR_REMOVED="Usercentrics: The following vendor is not part of the official vendors list anymore: ",t.TC_MODEL_UNDEFINED="Usercentrics: tcModel can not be null.",t.SELECTED_LANGUAGE_UNDEFINED="Usercentrics: Selected language can not be undefined"}(Kt||(Kt={})),function(t){t.LEGITIMATE_INTEREST="legIntPurposes",t.PURPOSES="purposes"}(qt||(qt={})),function(t){t[t.ID=0]="ID",t[t.LEGITIMATE_INTEREST=1]="LEGITIMATE_INTEREST",t[t.PURPOSES=2]="PURPOSES",t[t.SPECIAL_PURPOSES=3]="SPECIAL_PURPOSES"}(zt||(zt={})),function(t){t[t.FIRST_LAYER=1]="FIRST_LAYER",t[t.SECOND_LAYER=2]="SECOND_LAYER"}($t||($t={}));var te=function(t){switch(t){case"onAcceptAllBtnClick":case"onSpecialFunctionAcceptAllConsentTrigger":return"onAcceptAllServices";case"onDenyAllAnchorClick":case"onDenyAllBtnClick":return"onDenyAllServices";case"onNonEURegion":return"onNonEURegion";case"onInitialPageLoad":case"onCountdownFinished":default:return"onInitialPageLoad";case"onToggleCategory":case"onToggleConsent":case"onToggleSelectAll":return"onEssentialChange";case"onWindowFunctionUpdateConsent":case"bySettingsUpdate":case"onSaveBtnClick":return"onUpdateServices"}},ee=function(t){switch(t){case"update":case"implicit":default:return"implicit";case"explicit":return"explicit"}},ne="RAMDOM_KEY_LOCAL_STORAGE",se=function(){function t(){this.localStorage=null,this.sessionStorage=null,this.storeServiceIdToNameMapping=!1}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.resetInstance=function(){t.instance.localStorage=null,t.instance.sessionStorage=null},t.prototype.init=function(){try{localStorage.setItem(ne,ne),localStorage.removeItem(ne),this.localStorage=localStorage}catch(t){this.localStorage=null}try{sessionStorage.setItem(ne,ne),sessionStorage.removeItem(ne),this.sessionStorage=sessionStorage}catch(t){this.sessionStorage=null}},t.appendToConsentsBuffer=function(e){var n,s=t.fetchConsentsBuffer();s.push({consents:e,timestamp:(new Date).valueOf()}),null===(n=t.getInstance().localStorage)||void 0===n||n.setItem(Bt.CONSENTS_BUFFER,JSON.stringify(s))},t.clearOnNewSettingsId=function(e){e!==t.fetchSettingsId()&&t.clear()},t.removeConsentsBufferItem=function(e){var n,s,i=t.fetchConsentsBuffer(),r=i.length+0;(i=i.filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)}))).length&&i.length!==r?null===(n=t.getInstance().localStorage)||void 0===n||n.setItem(Bt.CONSENTS_BUFFER,JSON.stringify(i)):null===(s=t.getInstance().localStorage)||void 0===s||s.removeItem(Bt.CONSENTS_BUFFER)},t.getCcpaString=function(){var e,n=null===(e=t.getInstance().localStorage)||void 0===e?void 0:e.getItem(Bt.CCPA);return n&&Yt.test(n)?n:"1---"},t.getCcpaData=function(){var e,n=null===(e=t.getInstance().localStorage)||void 0===e?void 0:e.getItem(Bt.CCPA_DATA);return n?JSON.parse(n):null},t.fetchConsentsBuffer=function(){var e,n=null===(e=t.getInstance().localStorage)||void 0===e?void 0:e.getItem(Bt.CONSENTS_BUFFER);return n?JSON.parse(n):[]},t.fetchControllerId=function(){var e=t.fetchSettings();return e?e.controllerId:""},t.fetchLanguage=function(){var e=t.fetchSettings();return e?e.language:""},t.fetchServices=function(){var e=t.fetchSettings();return e?e.services:[]},t.fetchLegacySettings=function(){var e,n=null===(e=t.getInstance().localStorage)||void 0===e?void 0:e.getItem(Bt.LEGACY_SETTINGS);return n?JSON.parse(n):null},t.fetchSettings=function(){var e,n=null===(e=t.getInstance().localStorage)||void 0===e?void 0:e.getItem(Bt.SETTINGS);return n?JSON.parse(n):{}},t.fetchSettingsId=function(){var e=t.fetchSettings();return e?e.id:""},t.fetchSettingsVersion=function(){var e=t.fetchSettings();return e?e.version:""},t.fetchTCFData=function(){var e,n=null===(e=t.getInstance().localStorage)||void 0===e?void 0:e.getItem(Bt.TCF),s=n?JSON.parse(n):{tcString:"",timestamp:Date.now(),vendors:[]};return s.vendors||(s.vendors=[]),s},t.fetchTCFVendorsDisclosedObject=function(e){var n,s=t.fetchTCFData(),i=s.tcString,r=s.vendors,a=s.vendorsDisclosed;if(!r&&!a)return{};if((a||!a&&!r.length&&i)&&e){var c=Object.keys(e).map(Number);n=(a||c).filter((function(t){return e[t]})).map((function(t){var n=e[t];return[n.id,n.legIntPurposes,n.purposes,n.specialPurposes]})),t.saveTCFData({tcString:i,timestamp:Date.now(),vendors:n})}else n=r;return n.reduce((function(t,e){var n;return o(o({},t),((n={})[e[zt.ID]]=!0,n))}),{})},t.fetchTCString=function(){return t.fetchTCFData().tcString||""},t.fetchUserActionPerformed=function(){var e;return null!==(null===(e=t.getInstance().localStorage)||void 0===e?void 0:e.getItem(Bt.USER_INTERACTION))},t.fetchUserCountryResponse=function(){var e;try{return JSON.parse((null===(e=t.getInstance().sessionStorage)||void 0===e?void 0:e.getItem(Mt.USER_COUNTRY))||"null")}catch(n){return null}},t.setUserCountryResponse=function(e){var n;null===(n=t.getInstance().sessionStorage)||void 0===n||n.setItem(Mt.USER_COUNTRY,JSON.stringify(e))},t.mapServices=function(t){return t.map((function(t){return{history:t.consent.history,id:t.id,processorId:t.processorId,status:t.consent.status}}))},t.mapSettings=function(e,n){return{controllerId:e.controllerId,id:e.id,language:e.selectedLanguage,services:t.mapServices(n),version:e.version}},t.migrateLegacySettings=function(e){if(!t.settingsExist()){var n,s,i=t.fetchLegacySettings();if(t.clearLegacySettings(),null==i?void 0:i[e]){var r=(n=i[e])&&L(n.ucConsents.consents)?((s={})[Bt.SETTINGS]={controllerId:n.ucConsents.consents[0].controllerId,id:n.usercentrics.settings.settingsId,language:n.usercentrics.settings.language,services:n.ucConsents.consents.map((function(t){return{history:t.history.map((function(t){return{action:te(t.action),language:t.language,status:t.consentStatus,timestamp:t.updatedAt,type:ee(t.updatedBy),versions:{application:t.appVersion,service:t.consentTemplateVersion,settings:t.settingsVersion}}})),id:t.templateId,processorId:t.processorId,status:t.consentStatus}})),version:n.usercentrics.settings.version},s[Bt.USER_INTERACTION]=n.usercentrics.firstUserInteraction.stateSaved,s):null;r&&(t.saveSettings(r[Bt.SETTINGS]),r[Bt.USER_INTERACTION]&&t.setUserActionPerformed())}}},t.saveSettings=function(e,n){var s,i;if(null===(s=t.getInstance().localStorage)||void 0===s||s.setItem(Bt.SETTINGS,JSON.stringify(e)),t.prototype.storeServiceIdToNameMapping&&n&&n.length){var r=n.reduce((function(t,e){return t[e.id]=e.name,t}),{});null===(i=t.getInstance().localStorage)||void 0===i||i.setItem(Bt.SERVICES,JSON.stringify(r))}Zt.isCrossDomainAvailable()&&Zt.setCrossDomainData(e).catch((function(){console.warn(Gt.CROSS_DOMAIN_SET_DATA_FAILURE)}))},t.saveTCFData=function(e){var n;null===(n=t.getInstance().localStorage)||void 0===n||n.setItem(Bt.TCF,JSON.stringify(e)),Zt.isCrossDomainAvailable()&&Zt.setCrossDomainTcfData(e).catch((function(){console.warn(Gt.CROSS_DOMAIN_SET_TCF_DATA_FAILURE)}))},t.saveTCString=function(e){var n=t.fetchTCFData();this.saveTCFData(o(o({},n),{tcString:e}))},t.setCcpaTimeStamp=function(e){var n,s=e||{ccpaString:this.getCcpaString()||"",timestamp:(new Date).getTime()};null===(n=t.getInstance().localStorage)||void 0===n||n.setItem(Bt.CCPA_DATA,JSON.stringify(s))},t.getCcpaTimeStamp=function(){var t=this.getCcpaData();return t&&t.timestamp?t.timestamp:(new Date).getTime()},t.setCcpaString=function(e){var n;null===(n=t.getInstance().localStorage)||void 0===n||n.setItem(Bt.CCPA,e)},t.settingsExist=function(){return _(t.fetchSettings())},t.setUserActionPerformed=function(){var e;null===(e=t.getInstance().localStorage)||void 0===e||e.setItem(Bt.USER_INTERACTION,JSON.stringify(!0))},t.clearCcpa=function(){var e;this.clearCcpaData(),null===(e=t.getInstance().localStorage)||void 0===e||e.removeItem(Bt.CCPA)},t.clearCcpaData=function(){var e;null===(e=t.getInstance().localStorage)||void 0===e||e.removeItem(Bt.CCPA_DATA)},t.clearTcf=function(){var e;null===(e=t.getInstance().localStorage)||void 0===e||e.removeItem(Bt.TCF)},t.clear=function(){var e,n;t.clearCcpa(),t.clearTcf(),null===(e=t.getInstance().localStorage)||void 0===e||e.removeItem(Bt.SETTINGS),null===(n=t.getInstance().localStorage)||void 0===n||n.removeItem(Bt.USER_INTERACTION)},t.clearAll=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.clear(),Zt.isCrossDomainAvailable()?[4,Zt.clearCrossDomainStorage()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.clearLegacySettings=function(){var e;null===(e=t.getInstance().localStorage)||void 0===e||e.removeItem(Bt.LEGACY_SETTINGS)},t}(),ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var re,oe={exports:{}},ae={exports:{}};ae.exports=(re=re||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==ie&&ie.crypto&&(n=ie.crypto),!n)try{n=require("crypto")}catch(f){}var s=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(f){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(f){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},o=r.lib={},a=o.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=o.WordArray=a.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,s=this.sigBytes,i=t.sigBytes;if(this.clamp(),s%4)for(var r=0;r<i;r++){var o=n[r>>>2]>>>24-r%4*8&255;e[s+r>>>2]|=o<<24-(s+r)%4*8}else for(var a=0;a<i;a+=4)e[s+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(s());return new c.init(e,t)}}),u=r.enc={},l=u.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,s=[],i=0;i<n;i++){var r=e[i>>>2]>>>24-i%4*8&255;s.push((r>>>4).toString(16)),s.push((15&r).toString(16))}return s.join("")},parse:function(t){for(var e=t.length,n=[],s=0;s<e;s+=2)n[s>>>3]|=parseInt(t.substr(s,2),16)<<24-s%8*4;return new c.init(n,e/2)}},d=u.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,s=[],i=0;i<n;i++){var r=e[i>>>2]>>>24-i%4*8&255;s.push(String.fromCharCode(r))}return s.join("")},parse:function(t){for(var e=t.length,n=[],s=0;s<e;s++)n[s>>>2]|=(255&t.charCodeAt(s))<<24-s%4*8;return new c.init(n,e)}},g=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},h=o.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=g.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,s=this._data,i=s.words,r=s.sigBytes,o=this.blockSize,a=r/(4*o),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,l=t.min(4*u,r);if(u){for(var d=0;d<u;d+=o)this._doProcessBlock(i,d);n=i.splice(0,u),s.sigBytes-=l}return new c.init(n,l)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});o.Hasher=h.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}});var p=r.algo={};return r}(Math),re);var ce,ue=oe.exports=function(t){return function(e){var n=t,s=n.lib,i=s.WordArray,r=s.Hasher,o=n.algo,a=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),s=2;s<=n;s++)if(!(t%s))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var s=2,i=0;i<64;)t(s)&&(i<8&&(a[i]=n(e.pow(s,.5))),c[i]=n(e.pow(s,1/3)),i++),s++}();var u=[],l=o.SHA256=r.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,s=n[0],i=n[1],r=n[2],o=n[3],a=n[4],l=n[5],d=n[6],g=n[7],h=0;h<64;h++){if(h<16)u[h]=0|t[e+h];else{var p=u[h-15],f=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=u[h-2],S=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[h]=f+u[h-7]+S+u[h-16]}var I=s&i^s&r^i&r,y=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),C=g+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&d)+c[h]+u[h];g=d,d=l,l=a,a=o+C|0,o=r,r=i,i=s,s=C+(y+I)|0}n[0]=n[0]+s|0,n[1]=n[1]+i|0,n[2]=n[2]+r|0,n[3]=n[3]+o|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+g|0},_doFinalize:function(){var t=this._data,n=t.words,s=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(s/4294967296),n[15+(i+64>>>9<<4)]=s,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});n.SHA256=r._createHelper(l),n.HmacSHA256=r._createHmacHelper(l)}(Math),t.SHA256}(ae.exports),le=new Uint8Array(16);function de(){if(!ce&&!(ce="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ce(le)}var ge=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function he(t){return"string"==typeof t&&ge.test(t)}for(var pe=[],fe=0;fe<256;++fe)pe.push((fe+256).toString(16).substr(1));function ve(t,e,n){var s=(t=t||{}).random||(t.rng||de)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=s[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(pe[t[e+0]]+pe[t[e+1]]+pe[t[e+2]]+pe[t[e+3]]+"-"+pe[t[e+4]]+pe[t[e+5]]+"-"+pe[t[e+6]]+pe[t[e+7]]+"-"+pe[t[e+8]]+pe[t[e+9]]+"-"+pe[t[e+10]]+pe[t[e+11]]+pe[t[e+12]]+pe[t[e+13]]+pe[t[e+14]]+pe[t[e+15]]).toLowerCase();if(!he(n))throw TypeError("Stringified UUID is invalid");return n}(s)}var Se,Ie=function(){function t(){this.needsSessionRestore=!1,this.controllerId=""}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.resetInstance=function(){t.instance.controllerId=""},Object.defineProperty(t.prototype,"value",{get:function(){return this.controllerId},set:function(t){this.controllerId=t},enumerable:!1,configurable:!0}),t.prototype.init=function(){if(""===this.controllerId){var t=this.getStorageControllerId();this.controllerId=t||this.generateControllerId(),this.needsSessionRestore=!1}else this.needsSessionRestore=!0},t.prototype.generateControllerId=function(){return"".concat(ue(ve()))},t.prototype.getStorageControllerId=function(){return se.fetchControllerId()},t}(),ye=function(t,e){return{id:t,version:e}},Ce=function(t){if(!t)return[];var e,n,s=t.reduce((function(t,e){return l(l([],u(t),!1),[ye(e.templateId,e.version)],!1)}),[]);return function(t,e){return t.sort((function(t,n){return t[e]>n[e]?1:-1}))}((e=function(t,e){return t.id===e.id&&t.version===e.version},n=[],s.forEach((function(t){-1===n.findIndex((function(n){return e(t,n)}))&&n.push(t)})),n),"id")},Te=function(){function t(){this.API=Dt,this.abTestVariant="",this.controllerIdInstance=Ie.getInstance(),this.fetchUserCountryPromise=null,this.jsonCacheBustingString="",this.jsonFileLanguage="",this.jsonFileVersion="latest",this.settingsId="",this.rulesetId="",this.useEuCdn=!1,this.disableServerConsents=!1,this.aggregatedServicesCache=null,this.translationsCache=null}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.resetInstance=function(){t.instance.jsonCacheBustingString="",t.instance.jsonFileLanguage="",t.instance.jsonFileVersion="latest",t.instance.settingsId="",t.instance.disableServerConsents=!1},t.prototype.resetAggregatedServicesCache=function(){this.aggregatedServicesCache=null},t.prototype.resetTranslationsCache=function(){this.translationsCache=null},t.prototype.getAbTestVariant=function(){return this.abTestVariant},t.prototype.getJsonFileLanguage=function(){return this.jsonFileLanguage},t.prototype.getJsonFileVersion=function(){return this.jsonFileVersion},t.prototype.getSettingsId=function(){return this.settingsId},t.prototype.getRulesetId=function(){return this.rulesetId},t.prototype.getDisableServerConsents=function(){return this.disableServerConsents},t.prototype.setJsonCacheBustingString=function(t){this.jsonCacheBustingString=t},t.prototype.setJsonFileLanguage=function(t){this.jsonFileLanguage=t},t.prototype.setJsonFileVersion=function(t){this.jsonFileVersion=t},t.prototype.setDisableServerConsents=function(t){this.disableServerConsents=t},t.prototype.setDomains=function(t,e){this.API=t?Ot:e?{EU_URI:{AGGREGATOR:Dt.EU_URI.AGGREGATOR,CDN:Dt.EU_URI.CDN,FETCH_CONSENTS:Dt.EU_URI.FETCH_CONSENTS,FETCH_TCF_DATA:Dt.EU_URI.FETCH_TCF_DATA,FETCH_TCF_DATA_V2:Dt.EU_URI.FETCH_TCF_DATA_V2,GRAPHQL:Dt.EU_URI.GRAPHQL,TRACK_EVENT:Dt.EU_URI.TRACK_EVENT},FOLDER:{RULESET:"configMap",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:o(o({AGGREGATOR:""!==e.aggregator?"".concat(e.aggregator,"/aggregate/"):Dt.URI.AGGREGATOR,CDN:""!==e.cdn?e.cdn:Dt.URI.CDN,RULESET:Dt.URI.RULESET},""!==e.consents?{FETCH_CONSENTS:"".concat(e.consents,"/consentsHistory"),FETCH_TCF_DATA:"".concat(e.consents,"/consentsHistoryTCF"),FETCH_TCF_DATA_V2:"".concat(e.consents,"/consentState")}:{FETCH_CONSENTS:Dt.URI.FETCH_CONSENTS,FETCH_TCF_DATA:Dt.URI.FETCH_TCF_DATA,FETCH_TCF_DATA_V2:Dt.URI.FETCH_TCF_DATA_V2}),{GRAPHQL:""!==e.graphql?"".concat(e.graphql,"/graphql"):Dt.URI.GRAPHQL,TRACK_EVENT:""!==e.trackingEvent?"".concat(e.trackingEvent,"/uct"):Dt.URI.TRACK_EVENT})}:Dt},t.prototype.setSettingsId=function(t){this.settingsId=t},t.prototype.setRulesetId=function(t){this.rulesetId=t},t.prototype.setEuMode=function(t){this.useEuCdn=t},t.prototype.isEuMode=function(){return this.useEuCdn},t.prototype.getAggregatorUri=function(){return this.isEuMode()?this.API.EU_URI.AGGREGATOR:this.API.URI.AGGREGATOR},t.prototype.getCdnUri=function(){return this.isEuMode()?this.API.EU_URI.CDN:this.API.URI.CDN},t.prototype.getGraphQLUri=function(){return this.isEuMode()?this.API.EU_URI.GRAPHQL:this.API.URI.GRAPHQL},t.prototype.getTcfDataV2Uri=function(){return this.isEuMode()?this.API.EU_URI.FETCH_TCF_DATA_V2:this.API.URI.FETCH_TCF_DATA_V2},t.prototype.fetchAggregatedServices=function(t,e){return void 0===e&&(e=!0),a(this,void 0,void 0,(function(){var n,s;return c(this,(function(i){switch(i.label){case 0:return this.aggregatedServicesCache&&e?[2,this.aggregatedServicesCache]:(n="".concat(this.getAggregatorUri()).concat(this.jsonFileLanguage,"?templates=").concat(t.map((function(t){return"".concat(t.id,"@").concat(t.version)})).join(",")),[4,wt(n,V.GENERATE_DATA_PROCESSING_SERVICES)]);case 1:return s=i.sent(),e&&(this.aggregatedServicesCache=s.data.templates),[2,s.data.templates]}}))}))},t.prototype.fetchRuleset=function(){var t;return a(this,void 0,void 0,(function(){var e,n,s,i;return c(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.createRulesetUrl(),[4,wt(e,V.RULESET_NOT_FOUND)];case 1:return n=r.sent(),s=null===(t=n.location)||void 0===t?void 0:t.split(","),[2,{defaultRule:n.data.defaultRule,location:{code:s?s[0]:"",name:n.location||"",regionCode:s&&s[1]?s[1]:""},rules:n.data.rules}];case 2:throw(i=r.sent()).statusCode&&i.statusCode===K.RESOURCE_NOT_FOUND&&(i.errorMessage=V.RULESET_NOT_FOUND),i;case 3:return[2]}}))}))},t.prototype.fetchAvailableLanguages=function(){return a(this,void 0,void 0,(function(){var t,e;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this.createAvailableLanguagesUrl(),[4,wt(t,V.FETCH_AVAILABLE_LANGUAGES)];case 1:return[2,n.sent().data.languagesAvailable];case 2:throw(e=n.sent()).statusCode&&e.statusCode===K.RESOURCE_NOT_FOUND&&(e.errorMessage=V.AVAILABLE_LANGUAGES_NOT_FOUND),e;case 3:return[2]}}))}))},t.prototype.fetchTranslations=function(){return a(this,void 0,void 0,(function(){var t,e,n;return c(this,(function(s){switch(s.label){case 0:if(this.translationsCache)return[2,this.translationsCache];s.label=1;case 1:return s.trys.push([1,3,,4]),t=this.createLanguagesUrl(),[4,wt(t,V.FETCH_LEGAL_BASIS)];case 2:return e=s.sent(),this.translationsCache=e.data,[2,e.data];case 3:return(n=s.sent()).statusCode&&n.statusCode===K.RESOURCE_NOT_FOUND&&(n.errorMessage=V.FETCH_LEGAL_BASIS),[2,null];case 4:return[2]}}))}))},t.prototype.fetchCoreJson=function(){return a(this,void 0,void 0,(function(){var t,e;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this.createCoreJsonUrl(),[4,wt(t,V.FETCH_SETTINGS,{removeTimeout:!0})];case 1:return[2,n.sent().data];case 2:throw(e=n.sent()).statusCode&&e.statusCode===K.RESOURCE_NOT_FOUND&&(e.errorMessage=V.SETTINGS_NOT_FOUND),e;case 3:return[2]}}))}))},t.prototype.fetchDpsJson=function(){return a(this,void 0,void 0,(function(){var t,e,n,s;return c(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=this.createDpsJsonUrl(),[4,wt(t,V.FETCH_SETTINGS,{removeTimeout:!0})];case 1:return e=i.sent(),n=function(t){return t.reduce((function(t,e){return e.isDeactivated||t.push(e),t}),[])}(e.data.consentTemplates),[2,o(o({},e.data),{consentTemplates:n})];case 2:throw(s=i.sent()).statusCode&&s.statusCode===K.RESOURCE_NOT_FOUND&&(s.errorMessage=V.SETTINGS_NOT_FOUND),s;case 3:return[2]}}))}))},t.prototype.fetchSettingsJson=function(){return a(this,void 0,void 0,(function(){var t,e,n,s,i,r;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,7,,8]),t=this.createSettingsJsonUrl(),[4,wt(t,V.FETCH_SETTINGS)];case 1:if(e=o.sent(),["ccpa","firstLayer","secondLayer"].forEach((function(t){e.data[t]||(e.data[t]={})})),e.data.tcf2&&(e.data.tcf2.selectedVendorIds=(e.data.tcf2.selectedVendorIds||[]).sort((function(t,e){return t-e}))),!(e.data&&e.data.variants&&e.data.variants.enabled&&function(t,e){try{JSON.parse(t)}catch(n){return console.warn("Invalid JSON string from ".concat(e,': "').concat(t,'"')),!1}return!0}(e.data.variants.experiments,"A/B Testing")))return[3,6];if(n=JSON.parse(e.data.variants.experiments),"UC"===e.data.variants.activateWith)return s=Object.keys(n),this.abTestVariant=s[Math.floor(Math.random()*s.length)],[2,j(n[this.abTestVariant],e.data)];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,Y((function(){return!!window.UC_AB_VARIANT}),"window.UC_AB_VARIANT is not defined",2e3)];case 3:return o.sent(),[3,5];case 4:return i=o.sent(),console.warn(i),[3,5];case 5:if(window.UC_AB_VARIANT&&n&&n[window.UC_AB_VARIANT])return this.abTestVariant=window.UC_AB_VARIANT,[2,j(n[window.UC_AB_VARIANT],e.data)];o.label=6;case 6:return[2,e.data];case 7:throw(r=o.sent()).statusCode&&r.statusCode===K.RESOURCE_NOT_FOUND&&(r.errorMessage=V.SETTINGS_NOT_FOUND),r;case 8:return[2]}}))}))},t.prototype.fetchUserConsents=function(){return a(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return this.getDisableServerConsents()?[3,2]:(t=this.createFetchUserConsentsUrl(),[4,wt(t,V.FETCH_USER_CONSENTS)]);case 1:return[2,e.sent().data.reverse()];case 2:return[2,[]]}}))}))},t.prototype.fetchUserCountry=function(){return a(this,void 0,void 0,(function(){var t,e,n,s,i;return c(this,(function(r){return(t=se.fetchUserCountryResponse())?[2,Promise.resolve(t)]:(this.fetchUserCountryPromise||(e=me(),n=Ae(),s=Rt(this.getGraphQLUri(),e,V.FETCH_USER_COUNTRY,n).then((function(t){return t.data.clientLocation})),i=new Promise((function(t){setTimeout(t,3e3,Nt)})),this.fetchUserCountryPromise=U([s,i]).then((function(t){return se.setUserCountryResponse(t),t})).catch((function(){return se.setUserCountryResponse(Nt),Nt}))),[2,this.fetchUserCountryPromise])}))}))},t.prototype.fetchUserTcfData=function(){return a(this,void 0,void 0,(function(){var t,e,n,s,i;return c(this,(function(r){switch(r.label){case 0:return this.getDisableServerConsents()?[3,2]:(t=this.createFetchUserTcfDataUrl(),[4,wt(t,V.FETCH_USER_TCF_DATA)]);case 1:return e=r.sent(),n=e.data,s=n.tcString,i=n.meta,[2,o({tcString:s},JSON.parse(i)||{})];case 2:return[2,null]}}))}))},t.prototype.fetchUserTcfDataV2=function(){return a(this,void 0,void 0,(function(){var t,e,n,s,i;return c(this,(function(r){switch(r.label){case 0:return t=this.createFetchUserTcfDataV2Url(),[4,wt(t,V.FETCH_USER_TCF_DATA)];case 1:if((e=r.sent()).data&&e.data.tcf2)return n=e.data.tcf2,s=n.tcString,i=n.meta,[2,o({tcString:s},JSON.parse(i)||{})];throw new Error(V.FETCH_USER_TCF_DATA)}}))}))},t.prototype.saveTCFConsents=function(t,e,n,s){return a(this,void 0,void 0,(function(){var i,r,o,a,u;return c(this,(function(c){return i={consent:{status:!0},id:"tcf2",name:"tcf2",processorId:"abcd",version:"1.0.0"},r=e.tcString,o=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]])}return n}(e,["tcString"]),a=O(t,i,n,s),u={consentMeta:{TCF2:JSON.stringify(o)},consentString:{TCF2:r},dataTransferObjects:[a]},[2,this.saveConsents(u)]}))}))},t.prototype.saveConsents=function(t){return a(this,void 0,void 0,(function(){var e,n;return c(this,(function(s){switch(s.label){case 0:if(this.getDisableServerConsents())return[3,4];e=Ae(),n=Ee(t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Rt(this.getGraphQLUri(),n,V.SAVE_CONSENTS,e)];case 2:return s.sent(),[3,4];case 3:return s.sent(),se.appendToConsentsBuffer(t),[3,4];case 4:return[2]}}))}))},t.prototype.saveConsentsV2=function(t){return a(this,void 0,void 0,(function(){var e,n,s;return c(this,(function(i){switch(i.label){case 0:e=this.createSaveConsentsV2Url(),n=t,s={credentials:"omit",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","content-type":"application/json","X-Request-ID":ve()},mode:"cors"},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Rt(e,n,V.SAVE_CONSENTS,s)];case 2:case 3:return i.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.saveConsentsFromBuffer=function(){var t=this;if(!this.getDisableServerConsents()){var e=se.fetchConsentsBuffer();Array.isArray(e)&&e.length&&e.forEach((function(e,n){var s=3e3+1e3*n;setTimeout((function(){return a(t,void 0,void 0,(function(){var t,n,s;return c(this,(function(i){switch(i.label){case 0:t=Ae(),n=Ee(e.consents),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Rt(this.getGraphQLUri(),n,V.SAVE_CONSENTS,t)];case 2:return i.sent(),se.removeConsentsBufferItem(e),[3,4];case 3:return s=i.sent(),console.warn(s),[3,4];case 4:return[2]}}))}))}),s>0?s:0)}))}},t.prototype.setTrackingPixel=function(t,e){var n=(new Date).getTime(),s=encodeURIComponent(document.location.href),i="".concat(this.isEuMode()?this.API.EU_URI.TRACK_EVENT:this.API.URI.TRACK_EVENT,"?v=").concat(1,"&cid=").concat(e,"&sid=").concat(this.settingsId,"&t=").concat(t.eventType,"&abv=").concat(t.abTestVariant,"&r=").concat(s,"&cb=").concat(n);(new Image).src=i},t.prototype.updateTagLoggerData=function(t){var e=this.settingsId,n=window.location.href,s=be({settingsId:e,source:n,targets:t});this.saveTagLoggerData(s)},t.prototype.addJsonCacheBustingString=function(t){return this.jsonCacheBustingString?"".concat(t,"?c=").concat(this.jsonCacheBustingString):t},t.prototype.createAvailableLanguagesUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.SETTINGS,"/").concat(this.settingsId,"/").concat(this.jsonFileVersion,"/languages.json"))},t.prototype.createLanguagesUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.TRANSLATIONS,"/translations-").concat(this.jsonFileLanguage,".json"))},t.prototype.getSettingsUrl=function(){return"".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.SETTINGS,"/").concat(this.settingsId,"/").concat(this.jsonFileVersion)},t.prototype.createCoreJsonUrl=function(){return this.addJsonCacheBustingString("".concat(this.getSettingsUrl(),"/core.json"))},t.prototype.createDpsJsonUrl=function(){return this.addJsonCacheBustingString("".concat(this.getSettingsUrl(),"/dps-").concat(this.jsonFileLanguage,".json"))},t.prototype.createSettingsJsonUrl=function(){return this.addJsonCacheBustingString("".concat(this.getSettingsUrl(),"/").concat(this.jsonFileLanguage,".json"))},t.prototype.createFetchUserConsentsUrl=function(){return"".concat(this.isEuMode()?this.API.EU_URI.FETCH_CONSENTS:this.API.URI.FETCH_CONSENTS,"?controllerId=").concat(this.controllerIdInstance.value)},t.prototype.createFetchUserTcfDataUrl=function(){return"".concat(this.API.URI.FETCH_TCF_DATA,"?controllerId=").concat(this.controllerIdInstance.value)},t.prototype.createFetchUserTcfDataV2Url=function(){return"".concat(this.getTcfDataV2Uri(),"?controllerId=").concat(this.controllerIdInstance.value,"&tcf2=true&settingsId=").concat(this.settingsId)},t.prototype.createRulesetUrl=function(){return"".concat(this.API.URI.RULESET,"/").concat(this.API.FOLDER.RULESET,"/").concat(this.rulesetId,".json")},t.prototype.createSaveConsentsV2Url=function(){return"".concat(this.API.URI.SAVE_CONSENTS_V2,"/uw/").concat(1)},t.prototype.saveTagLoggerData=function(t){Rt(this.getGraphQLUri(),t,"",Ae())},t}(),me=function(){return{query:"{ clientLocation { countryCode countryName regionCode } }"}},Ae=function(){return{credentials:"omit",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","X-Request-ID":ve()},mode:"cors"}},Ee=function(t){var e=t.dataTransferObjects,n=t.consentMeta,s=t.consentString;return{query:"mutation saveConsents($consents: [NewCreateConsentInput], $consentMeta: ConsentMeta, $consentString: ConsentString)\n      {\n        saveConsents(consents: $consents, consentMeta: $consentMeta, consentString: $consentString) { data { consentId } }\n      }",variables:{consentMeta:n,consents:Le(e),consentString:s}}},be=function(t){return{operationName:"saveTagLoggerData",query:"mutation saveTagLoggerData($settingsId: String, $source: String, $targets: [String])\n        {\n          saveTagLoggerData(settingsId: $settingsId, source: $source, targets: $targets)\n        }",variables:{settingsId:t.settingsId,source:t.source,targets:t.targets}}},Le=function(t){return t.map((function(t){return{action:t.consent.action,appVersion:t.applicationVersion,consentStatus:t.consent.status?"1":"0",consentTemplateId:t.service.id,consentTemplateVersion:t.service.version,controllerId:t.settings.controllerId,language:t.settings.language,processorId:t.service.processorId,referrerControllerId:t.settings.referrerControllerId,settingsId:t.settings.id,settingsVersion:t.settings.version,updatedBy:t.consent.type}}))};!function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.NOT_SET=2]="NOT_SET"}(Se||(Se={}));var _e,De=function(){function t(){this.isBotEnabled=!1,this.isBot=Se.NOT_SET}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.resetInstance=function(){t.instance.isBot=Se.NOT_SET},t.prototype.isRobot=function(){if(this.isBot===Se.NOT_SET)if(this.isBotEnabled){var t=window.navigator.userAgent,e=new RegExp("bingbot/|BingPreview/|DuckDuckBot/|Google Page Speed Insights|Google PP|Google Search Console|Google Web Preview|Googlebot/|Googlebot-Image/|Googlebot-Mobile/|Googlebot-News|Googlebot-Video/|Google-SearchByImage|Google-Structured-Data-Testing-Tool|Chrome-Lighthouse|YahooSeeker|YahooCacheSystem|Yahoo! Site Explorer Feed Validator|Yahoo! Slurp|Slurp/","i");this.isBot=e.test(t)?Se.YES:Se.NO}else this.isBot=Se.NO;return this.isBot===Se.YES},t}(),Oe=["B1Hk_zoTX","ByzZ5EsOsZX","dqFgQeZH","LykAT-gy","twMyStLkn","pxiRY9112","UekC8ye4S","DHS2sEi4b","S1_9Vsuj-Q","dyHOCwp5Y"],Ne=["HkocEodjb7","87JYasXPF"],we=function(){function t(){this.dataLayerNames=[],this.windowEventNames=[],this.dataLayer=new Map,this.blockDataLayerPush=!1}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.setBlockDataLayerPush=function(t){this.blockDataLayerPush=t},t.prototype.shouldBlockDataLayerPush=function(){return this.blockDataLayerPush},t.resetInstance=function(){t.instance.dataLayerNames=[],t.instance.windowEventNames=[],t.instance.dataLayer=new Map},t.prototype.init=function(t){var e=this;t.forEach((function(t){t.type===g.DATA_LAYER?e.dataLayerNames=D(t.names,[]):t.type===g.WINDOW_EVENT&&(e.windowEventNames=D(t.names,[]))}))},t.prototype.setDataLayer=function(t,e){this.dataLayer.set(e,t)},t.prototype.getDataLayer=function(){return this.dataLayer},t.prototype.dispatch=function(t,e,n){L(t)&&(this.pushEventsToDataLayer(t,e,n),this.dispatchWindowEvents(t,n))},t.prototype.isValidDataLayer=function(t){return window[t]&&(Array.isArray(window[t])||Object.prototype.hasOwnProperty.call(window[t],"push"))},t.prototype.pushEventsToDataLayer=function(t,e,n){var s=this;L(this.dataLayerNames)&&this.dataLayerNames.forEach((function(i){if(window[i]=D(window[i],[]),!s.isValidDataLayer(i))throw Error("DataLayer: ".concat(i," is not of a valid type!"));if(e&&"dataLayer"===i){var r=!1,o=!1,a=!1,c=!1,u=!1;Ue("set","developer_id.dOThhZD",!0),t.forEach((function(t){var e=t.service.id,n=t.consent,s=n.status,i=n.type,o=n.action;Ne.includes(e)&&("explicit"===i||"implicit"===i&&"onNonEURegion"===o)&&(r=s,u=!0),Oe.includes(e)&&("explicit"===i||"implicit"===i&&"onNonEURegion"===o)&&(c=!0,u=!0,s||(a=!0))})),(c&&!a||r)&&(o=!0),u&&Ue("consent","update",{ad_storage:o?"granted":"denied",analytics_storage:r?"granted":"denied"}),Ue("set","ads_data_redaction",!o)}window[i].push(Re(t,n)),s.setDataLayer(window[i],i),s.shouldBlockDataLayerPush()||"explicit"===t[0].consent.type&&t.forEach((function(t){t.consent.status||window[i].push({event:"".concat(t.service.name," EXPLICIT_DENY")})}))}))},t.prototype.dispatchWindowEvents=function(t,e){if(L(this.windowEventNames)){var n=Re(t,e);this.windowEventNames.forEach((function(t){var e=new window.CustomEvent(t,{detail:n});window.dispatchEvent(e)}))}},t}(),Re=function(t,e){var n={action:null!=e?e:t[0].consent.action,event:"consent_status",type:t[0].consent.type};return t.forEach((function(t){var e;n=o(o({},n),((e={})[t.service.name]=t.consent.status,e))})),n},Ue=function(){window.dataLayer.push(arguments)},Fe="en",Pe="https://api.usercentrics.eu/tcf2/",Ve="https://config.eu.usercentrics.eu/tcf2/",Be="[LANG].json",Me="en-v2.json",ke=864e5,Ge=1,xe=365,He=["onEssentialChange","onInitialPageLoad","onNonEURegion","onSessionRestored"];!function(t){t.TEXT_JAVASCRIPT="text/javascript",t.TEXT_PLAIN="text/plain"}(_e||(_e={}));var Je=function(){function t(){}return t.enableScriptsForServicesWithConsent=function(e){var n=t.getDisabledScripts();Array.prototype.forEach.call(n,(function(n){t.disabledScriptHasConsent(e,n)&&t.enableScript(n)}))},t.getDisabledScripts=function(){return document.querySelectorAll("script[".concat("data-usercentrics",'][type="').concat(_e.TEXT_PLAIN,'"]'))},t.disabledScriptHasConsent=function(t,e){return t.some((function(t){return t.name===e.getAttribute("data-usercentrics")}))},t.enableScript=function(e){var n,s,i,r=e.src?t.createSrcScriptTag(e):t.createInlineScriptTag(e);s=r,(i=(n=e).parentNode)&&i.replaceChild(s,n)},t.createSrcScriptTag=function(e){var n=t.cloneScriptTag(e);return n.removeAttribute("data-usercentrics"),n.type=_e.TEXT_JAVASCRIPT,n},t.createInlineScriptTag=function(e){var n=t.cloneScriptTag(e);n.removeAttribute("data-usercentrics");var s=document.createTextNode(e.text);return n.appendChild(s),n.type=_e.TEXT_JAVASCRIPT,n},t.cloneScriptTag=function(t){var e=document.createElement("script");return Array.from(t.attributes).forEach((function(t){e.setAttribute(t.name,t.value)})),e},t}(),je=function(t,e,n){var s,i;this.anyDomain=t.anyDomain||"any domain (ex. first party cookie)",this.cookieRefresh=(null==e?void 0:e.COOKIE_REFRESH)||(null===(s=null==n?void 0:n.labels)||void 0===s?void 0:s.COOKIE_REFRESH)||"Cookie Refresh",this.cookieStorage=(null==e?void 0:e.COOKIE_STORAGE)||(null===(i=null==n?void 0:n.labels)||void 0===i?void 0:i.COOKIE_STORAGE)||"Cookie Storage",this.day=t.day,this.days=t.days,this.description=t.storageInformationDescription||"Below you can see the longest potential duration for storage on a device, as set when using the cookie method of storage and if there are any other methods used.",this.domain=t.domain||"Domain",this.duration=t.duration||"Duration",this.error=t.informationLoadingNotPossible||"Sorry; we could not load the required information.",this.hour=t.hour,this.hours=t.hours,this.identifier=t.identifier||"Identifier",this.loading=t.loadingStorageInformation||"Loading storage information",this.maximumAge=t.maximumAgeCookieStorage||"Maximum age of cookie storage",this.minute=t.minute,this.minutes=t.minutes,this.month=t.month,this.months=t.months,this.multipleDomains=t.multipleDomains||"multiple subdomains may exist",this.name=t.name||"Name",this.no=t.no||"no",this.nonCookieStorage=t.nonCookieStorage||"Non-cookie storage",this.purposes=t.purposes||"Purposes",this.second=t.second||"second",this.seconds=t.seconds||"seconds",this.session=t.session||"Session",this.storedInformation=t.storedInformation||"Stored Information",this.storedInformationDescription=t.storedInformationDescription||"This service uses different means of storing information on a users device as listed below.",this.title=t.storageInformation||"Storage Information",this.titleDetailed=t.detailedStorageInformation||"Detailed Storage Information",this.tryAgain=t.tryAgain||"Try again?",this.type=t.type||"Type",this.year=t.year,this.years=t.years,this.yes=t.yes||"yes"},Ye=function(t,e){var n=t.defaultConsentStatus;return{history:[],status:!!(null==e?void 0:e.isEssential)||n}},We=function(t,e){var n=t.legalBasisList,s=t.legalGround;return e.length>0?e:function(t,e){return L(t)?t:[e]}(n,s)},Ke=function(t,e,n){var s;this.deviceStorage=null;var i=null==n?void 0:n.find((function(e){return t.templateId===e.templateId&&t.version===e.version})),r=(null==e?void 0:e.legalBasis)&&t.legalBasisList?t.legalBasisList.reduce((function(t,n){return(null==e?void 0:e.legalBasis[n])?l(l([],u(t),!1),[null==e?void 0:e.legalBasis[n]],!1):t}),[]):[];this.description=function(t,e){return t.description||(null==e?void 0:e.descriptionOfService)||(null==e?void 0:e.description)||""}(t,i),this.deviceStorage=D(null==i?void 0:i.deviceStorage,null),this.id=t.templateId,this.legalBasis=i&&!t.disableLegalBasis?We(i,r):[],this.name=(null===(s=t._meta)||void 0===s?void 0:s.name)||(null==i?void 0:i.dataProcessor)||(null==i?void 0:i.dataProcessors[0])||""},qe=function(t){function e(e,n,s,i){var r,o,a,c,d,g=t.call(this)||this,h=e.labels;return g.ariaLabels=(null==s?void 0:s.labelsAria)||Tt,g.categories=n.categories.map((function(t){return{description:t.description,label:t.label,slug:t.categorySlug}})),g.cookieInformation=new je(h,null,s),g.general={back:(null===(r=null==s?void 0:s.labels)||void 0===r?void 0:r.BACK)||"Back",consentGiven:h.accepted,consentNotGiven:h.denied,consentType:h.consentType,controllerId:"Controller ID",copied:h.copied,copy:h.copy,date:h.date,decision:h.decision,details:(null===(o=null==s?void 0:s.labels)||void 0===o?void 0:o.DETAILS)||"Details",explicit:h.explicit,implicit:h.implicit,implicitNo:h.noImplicit,implicitYes:h.yesImplicit,showLess:h.readLess,showMore:h.btnBannerReadMore||h.showMore,subservice:(null===(a=null==s?void 0:s.labels)||void 0===a?void 0:a.SUB_SERVICE)||"Subservice",subservices:(null===(c=null==s?void 0:s.labels)||void 0===c?void 0:c.SUB_SERVICES)||"Subservices",subservicesDescription:(null===(d=null==s?void 0:s.labels)||void 0===d?void 0:d.SUB_SERVICES_DESCRIPTION)||"Below you can find all the services that are subordinate to this service. The current consent status of this service applies to all subservices."},g.links={cookiePolicy:{ariaLabel:Tt.cookiePolicyButton,label:D(h.cookiePolicyLinkText,""),url:e.cookiePolicyUrl},imprint:{ariaLabel:Tt.imprintButton,label:h.imprintLinkText||null,url:e.imprintUrl},privacyPolicy:{ariaLabel:Tt.privacyPolicyButton,label:h.privacyPolicyLinkText,url:e.privacyPolicyUrl}},g.poweredBy={label:"Powered by",partnerUrlLabel:D(h.partnerPoweredByLinkText,null),urlLabel:"Usercentrics Consent Management"},g.service={dataCollected:{description:h.dataCollectedInfo,title:h.dataCollectedList},dataDistribution:{processingLocationDescription:h.locationofProcessingInfo,processingLocationTitle:h.locationOfProcessing,thirdPartyCountriesDescription:h.transferToThirdCountriesInfo,thirdPartyCountriesTitle:h.transferToThirdCountries},dataProtectionOfficer:{description:h.dataProtectionOfficerInfo,title:h.dataProtectionOfficer},dataPurposes:{description:h.dataPurposesInfo,title:h.dataPurposes},dataRecipients:{description:h.dataRecipientsListInfo,title:h.dataRecipientsList},descriptionTitle:h.descriptionOfService,history:{description:null,title:h.history},legalBasis:{description:h.legalBasisInfo,title:h.legalBasisList},processingCompanyTitle:h.processingCompany,retentionPeriod:{description:h.retentionPeriodInfo,title:h.retentionPeriod},technologiesUsed:{description:h.technologiesUsedInfo,title:h.technologiesUsed},urls:{cookiePolicyTitle:h.cookiePolicyInfo,optOutTitle:h.optOut,privacyPolicyTitle:h.policyOf}},g.services=n.consentTemplates.reduce((function(t,e){var n=new Ke(e,s,i);return l(l([],u(t),!1),[n],!1)}),[]),g}return n(e,t),e}((function(){this.ariaLabels=Tt})),ze=function(t){function e(e,n,s,i){var r=t.call(this,e,n,s,i)||this;return r.buttons={optOutNotice:e.ccpa.optOutNoticeLabel||"Do not sell my personal information",save:e.ccpa.btnSave||"okay",showSecondLayer:e.labels.btnMore},r.firstLayer={description:{default:e.ccpa.firstLayerDescription||"",short:e.ccpa.firstLayerMobileDescription||""},title:e.ccpa.firstLayerTitle||""},r.secondLayer={categoryTab:e.secondLayer.tabsCategoriesLabel,description:e.ccpa.secondLayerDescription||"",serviceTab:e.secondLayer.tabsServicesLabel,title:e.ccpa.secondLayerTitle||""},r}return n(e,t),e}(qe),$e=function(t,e){var n;this.acceptAllImplicitlyOutsideEU=t.displayOnlyForEU,this.consentAPIv2=D(t.consentAPIv2,!1),this.consentSharingIFrameIsActive=t.consentSharingIFrameIsActive,this.dataExchangeSettings=t.dataExchangeOnPage.reduce((function(t,e){return e.type===k.DATA_LAYER?t.push({names:e.names,type:g.DATA_LAYER}):e.type===k.WINDOW_EVENT&&t.push({names:e.names,type:g.WINDOW_EVENT}),t}),[]),this.googleConsentMode=t.googleConsentMode,this.id=t.settingsId,this.isCcpaEnabled=(null===(n=t.ccpa)||void 0===n?void 0:n.isActive)||!1,this.isEmbeddingsEnabled=!0,this.isTagLoggerActive=t.tagLoggerIsActive,this.isTcfEnabled=t.tcf2Enabled||!1,this.language={available:t.languagesAvailable,selected:e},this.reshowBanner=D(t.reshowBanner,-1),this.showFirstLayerOnVersionChange=t.showInitialViewForVersionChange.map((function(t){switch(t){case x.MAJOR:return h.MAJOR;case x.MINOR:return h.MINOR;default:case x.PATCH:return h.PATCH}})),this.version=t.version},Qe=function(t){function e(e,n,s,i){var r,o=t.call(this,e,n,s,i)||this;return o.buttons={acceptAll:e.labels.btnAcceptAll,cnilDeny:(null===(r=null==s?void 0:s.labels)||void 0===r?void 0:r.CNIL_DENY_LINK_TEXT)||"Continuer sans accepter",denyAll:e.labels.btnDeny,save:e.labels.btnSave,showSecondLayer:e.labels.btnMore},o.firstLayer={description:{default:e.bannerMessage||"",short:e.bannerMobileDescription||""},title:D(e.labels.firstLayerTitle,"Privacy Settings")},o.secondLayer={acceptButtonLabel:e.secondLayer.acceptButtonText,categoryTab:e.secondLayer.tabsCategoriesLabel,denyButtonLabel:e.secondLayer.denyButtonText,description:e.labels.titleCorner,serviceTab:e.secondLayer.tabsServicesLabel,title:e.labels.headerCorner},o}return n(e,t),e}(qe),Xe=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"],Ze=function(){function t(){this.apiInstance=Te.getInstance(),this.userCountryData={}}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.resetInstance=function(){t.instance.userCountryData={}},t.prototype.setUserCountryData=function(t){this.userCountryData=t},t.prototype.getUserCountryData=function(){return a(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return _(this.userCountryData)?[3,2]:[4,this.apiInstance.fetchUserCountry()];case 1:t=e.sent(),this.setUserCountryData(tn(t)),e.label=2;case 2:return[2,this.userCountryData]}}))}))},t.prototype.getIsUserInCalifornia=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.getIsUserInUS("CA")]}))}))},t.prototype.getIsUserInEU=function(){return a(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return[4,this.getUserCountryData()];case 1:return t=e.sent(),[2,A(Xe,t.code.toUpperCase())]}}))}))},t.prototype.getIsUserInUS=function(t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,this.getUserCountryData()];case 1:return[2,"US"===(e=n.sent()).code&&(!t||e.regionCode===t)]}}))}))},t.mapUserCountryData=function(t){return{countryCode:t.code,countryName:t.name,regionCode:t.regionCode}},t}(),tn=function(t){return{code:t.countryCode,name:t.countryName,regionCode:t.regionCode}},en=function(t){this.cookieMaxAgeSeconds=null,this.cookieRefresh=null,this.dataCollected=[],this.dataDistribution=null,this.dataProtectionOfficer=null,this.dataPurposes=[],this.dataRecipients=[],this.deviceStorageDisclosureUrl=null,this.language=null,this.processingCompany=null,this.retentionPeriodDescription=null,this.technologiesUsed=[],this.urls=null,this.usesCookies=null,this.usesNonCookieAccess=null,this.cookieMaxAgeSeconds=D(null==t?void 0:t.cookieMaxAgeSeconds,null),this.cookieRefresh=D(null==t?void 0:t.cookieRefresh,null),this.dataCollected=t?nn(t,G.DATA_COLLECTED_LIST):[],this.dataDistribution=t?rn(t):null,this.dataProtectionOfficer=D(null==t?void 0:t.dataProtectionOfficer,null),this.dataPurposes=t?sn(t):[],this.dataRecipients=t?nn(t,G.DATA_RECIPIENTS_LIST):[],this.deviceStorageDisclosureUrl=D(null==t?void 0:t.deviceStorageDisclosureUrl,null),this.language=t?on(t):null,this.processingCompany=t?an(t):null,this.retentionPeriodDescription=t?cn(t):null,this.technologiesUsed=t?nn(t,G.TECHNOLOGY_USED):[],this.usesCookies=D(null==t?void 0:t.usesCookies,null),this.usesNonCookieAccess=D(null==t?void 0:t.usesNonCookieAccess,null),this.urls=t?un(t):null},nn=function(t,e){var n;return L(t[e])?t[e]:(null===(n=t[e])||void 0===n?void 0:n.length)>0?[t[e]]:[]},sn=function(t){var e=nn(t,G.DATA_PURPOSES_LIST);return L(e)?e:t.dataPurposes},rn=function(t){return{processingLocation:t.locationOfProcessing,thirdPartyCountries:t.thirdCountryTransfer}},on=function(t){return{available:t.languagesAvailable,selected:t.language}},an=function(t){return{address:t.addressOfProcessingCompany,dataProtectionOfficer:t.dataProtectionOfficer,name:t.nameOfProcessingCompany||t.processingCompany}},cn=function(t){var e;return t.retentionPeriodDescription||(null===(e=t.retentionPeriodList)||void 0===e?void 0:e[0])||""},un=function(t){return{cookiePolicy:t.cookiePolicyURL,dataProcessingAgreement:t.linkToDpa,optOut:t.optOutUrl,privacyPolicy:t.privacyPolicyURL||t.policyOfProcessorUrl}},ln=function(t){function e(e,n,s,i){var r,o=t.call(this,e,n,s,i)||this,a=e.labels,c=e.tcf2;return o.cookieInformation.purposes=c.labelsPurposes,o.buttons={acceptAll:c.buttonsAcceptAllLabel,denyAll:c.buttonsDenyAllLabel,manageSettings:c.linksManageSettingsLabel,save:c.buttonsSaveLabel,showVendorTab:c.linksVendorListLinkLabel},o.firstLayer={description:{additionalInfo:c.firstLayerAdditionalInfo||null,dataSharedOutsideEUText:c.showDataSharedOutsideEUText&&c.dataSharedOutsideEUText?c.dataSharedOutsideEUText:null,default:c.firstLayerDescription,resurfaceNote:c.firstLayerNoteResurface||null},disclaimer:{serviceScope:c.firstLayerNoteService},title:c.firstLayerTitle},o.secondLayer={dataSharedOutsideEU:{text:(null===(r=null==s?void 0:s.labels)||void 0===r?void 0:r.VENDORS_OUTSIDE_EU)||null,title:a.transferToThirdCountries},description:c.secondLayerDescription,purposesTab:c.tabsPurposeLabel,title:c.secondLayerTitle,vendorsTab:c.tabsVendorsLabel},o.titles={features:c.labelsFeatures,iabVendors:c.labelsIabVendors,nonIabPurposes:c.labelsNonIabPurposes,nonIabVendors:c.labelsNonIabVendors,purposes:c.labelsPurposes},o.toggles={consent:e.tcf2.togglesConsentToggleLabel,legitimateInterest:e.tcf2.togglesLegIntToggleLabel,specialFeaturesToggle:{offLabel:e.tcf2.togglesSpecialFeaturesToggleOff,onLabel:e.tcf2.togglesSpecialFeaturesToggleOn}},o.vendor={features:c.vendorFeatures,legitimateInterest:c.vendorLegitimateInterestPurposes,privacyPolicy:a.privacyPolicyLinkText,purposes:c.vendorPurpose,specialFeatures:c.vendorSpecialFeatures,specialPurposes:c.vendorSpecialPurposes,toggleAll:c.labelsActivateAllVendors},o}return n(e,t),e}(qe),dn=function(){function t(){this.aggregatedServices=[],this.allLegacyServicesHaveName=!1,this.isVariantLoaded=!1,this.isAggregatorLoaded=!1,this.language="",this.translations=null,this.botInstance=De.getInstance(),this.locationInstance=Ze.getInstance(),this._core=null,this._coreJson=null,this._data=null,this._dpsJson=null,this._labels=null,this._legacySettings=null,this._ui=null,this.controllerIdInstance=Ie.getInstance(),this.acceptAllImplicitlyOnInit=null}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.resetInstance=function(){t.instance.allLegacyServicesHaveName=!1,t.instance.core=null,t.instance.data=null,t.instance.labels=null,t.instance.legacySettings=null,t.instance.ui=null,t.instance.dpsJson=null,t.instance.coreJson=null},Object.defineProperty(t.prototype,"core",{get:function(){return this._core},set:function(t){this._core=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coreJson",{get:function(){return this._coreJson},set:function(t){this._coreJson=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dpsJson",{get:function(){return this._dpsJson},set:function(t){this._dpsJson=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){return this._labels},set:function(t){this._labels=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"legacySettings",{get:function(){return this._legacySettings},set:function(t){this._legacySettings=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ui",{get:function(){return this._ui},set:function(t){this._ui=t},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e,n){return a(this,void 0,void 0,(function(){return c(this,(function(s){return this.language=n,this.core=new $e(t,n),this.coreJson=t,this.dpsJson=e,this.isAggregatorLoaded=!1,this.allLegacyServicesHaveName=this.checkIfServiceNameExists(e.consentTemplates),this.isAggregatorLoaded=!1,[2]}))}))},t.prototype.initData=function(t,e,n){return void 0===n&&(n=!0),a(this,void 0,void 0,(function(){var s,i,r,o,u,l=this;return c(this,(function(d){switch(d.label){case 0:if(i=(s=this).coreJson,r=s.dpsJson,o=s.legacySettings,!i||!r)return[2];switch(u=this.controllerIdInstance.value,t){case 0:return[3,1];case 2:return[3,3];case 1:return[3,5]}return[3,7];case 1:return[4,import("./CcpaData-0780261a.js").then((function(t){var e=new(0,t.default)(i,r,u);l.data=e}))];case 2:return d.sent(),[3,8];case 3:return o?[4,import("./TcfData-703b15bc.js").then((function(t){var e=t.default;return a(l,void 0,void 0,(function(){var t,s;return c(this,(function(a){switch(a.label){case 0:return(t=this.getDataTransferSettings())&&i.tcf2?(s=new e(o,i.tcf2,r,t,u,this.language),this.data=s,n?[4,s.init()]:[3,2]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))}))]:[2];case 4:return d.sent(),[3,8];case 5:return[4,import("./DefaultData-71eaabd8.js").then((function(t){var n=new(0,t.default)(r,u,e);l.data=n}))];case 6:return d.sent(),[3,8];case 7:console.error("Usercentrics: Unknown variant"),d.label=8;case 8:return this.isVariantLoaded=!0,[2]}}))}))},t.prototype.checkIfServiceNameExists=function(t){return t.every((function(t){var e;return null!=(null===(e=t._meta)||void 0===e?void 0:e.name)}))},t.prototype.initLabels=function(t,e,n){var s=this.dpsJson,i=this.legacySettings;if(i&&this.core&&s)switch(t){case 0:var r=new ze(i,s,e,n);this.labels=r;break;case 1:var o=new Qe(i,s,e,n);this.labels=o;break;case 2:var a=new ln(i,s,e,n);this.labels=a;break;default:console.error("Usercentrics: Unknown variant")}else console.error("Usercentrics: You have to call the init method before!")},t.prototype.initUI=function(t,e){return a(this,void 0,void 0,(function(){var n,s,i,r=this;return c(this,(function(o){switch(o.label){case 0:return s=(n=this).coreJson,i=n.legacySettings,s?2!==t?[3,2]:[4,import("./PrivacyButtonUI-36154cbb.js").then((function(t){var e=new(0,t.default)(s);r.ui=e}))]:[2];case 1:return o.sent(),[2];case 2:if(!i)return[2];switch(e){case 0:return[3,3];case 1:return[3,5];case 2:return[3,7]}return[3,9];case 3:return[4,import("./CcpaUI-1d9cf3f7.js").then((function(t){var e=new(0,t.default)(s,i);r.ui=e}))];case 4:return o.sent(),[3,10];case 5:return[4,import("./DefaultUI-9bbda292.js").then((function(t){var e=new(0,t.default)(s,i);r.ui=e}))];case 6:return o.sent(),[3,10];case 7:return[4,import("./TcfUI-5eaee825.js").then((function(t){var e=new(0,t.default)(s,i);r.ui=e}))];case 8:return o.sent(),[3,10];case 9:console.error("Usercentrics: Unknown variant"),o.label=10;case 10:return[2]}}))}))},t.prototype.getCcpaData=function(){return st(this.data)?this.data:null},t.prototype.getDefaultData=function(){return rt(this.data)?this.data:null},t.prototype.getTcfData=function(){return it(this.data)?this.data:null},t.prototype.getCcpaLabels=function(){return ot(this.labels)?this.labels:null},t.prototype.getDefaultLabels=function(){return ct(this.labels)?this.labels:null},t.prototype.getTcfLabels=function(){return at(this.labels)?this.labels:null},t.prototype.getCcpaUI=function(){return ut(this.ui)?this.ui:null},t.prototype.getDefaultUI=function(){return dt(this.ui)?this.ui:null},t.prototype.getTcfUI=function(){return lt(this.ui)?this.ui:null},t.prototype.getDataExchangeSettings=function(){return this.core?this.core.dataExchangeSettings:[]},t.prototype.getCategoriesData=function(){return this.data?this.data.categories:[]},t.prototype.getCategoriesBaseData=function(){var t=this;return this.data?this.data.categories.map((function(e){return{isEssential:e.isEssential,isHidden:e.isHidden,services:t.getServicesBaseInfo(),slug:e.slug}})):[]},t.prototype.getCategoriesLabels=function(){return this.labels?this.labels.categories:[]},t.prototype.getCategoriesDataAndLabels=function(){return function(t,e,n){return t.reduce((function(t,s){var i=e.find((function(t){return t.slug===s.slug}));return i?l(l([],u(t),!1),[o(o(o({},i),s),{services:nt(s.services,n)})],!1):t}),[])}(this.getCategoriesData(),this.getCategoriesLabels(),this.getServicesLabels())},t.prototype.getCategoriesBaseInfo=function(){return this.getCategoriesDataAndLabels()},t.prototype.getCategoriesFullInfo=function(t,e){return a(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return this.isAggregatorLoaded?[3,2]:[4,this.extendServices(t,e)];case 1:n.sent(),n.label=2;case 2:return[2,this.getCategoriesDataAndLabels()]}}))}))},t.prototype.getCategoryBySlug=function(t){return this.getCategoriesDataAndLabels().find((function(e){return e.slug===t}))},t.prototype.getDataTransferSettings=function(t){return this.core?{controllerId:this.controllerIdInstance.value,id:this.core.id,selectedLanguage:this.core.language.selected,version:t||this.core.version}:null},t.prototype.getEssentialCategories=function(){return this.getCategoriesDataAndLabels().reduce((function(t,e){return e.isEssential?l(l([],u(t),!1),[e],!1):t}),[])},t.prototype.getEssentialCategoriesData=function(){return this.getCategoriesData().reduce((function(t,e){return e.isEssential?l(l([],u(t),!1),[e],!1):t}),[])},t.prototype.getNonEssentialCategories=function(){return this.getCategoriesDataAndLabels().reduce((function(t,e){return e.isEssential?t:l(l([],u(t),!1),[e],!1)}),[])},t.prototype.getNonEssentialCategoriesData=function(){return this.getCategoriesData().reduce((function(t,e){return e.isEssential?t:l(l([],u(t),!1),[e],!1)}),[])},t.prototype.getGoogleConsentMode=function(){return!!this.core&&this.core.googleConsentMode},t.prototype.getServicesLabels=function(){return this.labels?this.labels.services:[]},t.prototype.getServicesData=function(){return this.getCategoriesData().reduce((function(t,e){return l(l([],u(t),!1),u(e.services),!1)}),[])},t.prototype.getServicesDataAndLabels=function(){var t=this.getServicesData();return nt(t,this.getServicesLabels())},t.prototype.getServicesBaseInfo=function(){var t,e,n=this.mapBaseServices(this.getServicesData());return t=n,e=this.getServicesLabels(),t.reduce((function(t,n){var s=e.find((function(t){return t.id===n.id}));return l(l([],u(t),!1),[o(o({},n),s||et)],!1)}),[])},t.prototype.getServicesFullInfo=function(t,e){return a(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return this.isAggregatorLoaded?[3,2]:[4,this.extendServices(t,e)];case 1:n.sent(),n.label=2;case 2:return[2,this.getServicesDataAndLabels()]}}))}))},t.prototype.getServicesFromCategories=function(t){return t.reduce((function(t,e){return t.concat(e.services)}),[])},t.prototype.getServicesWithConsent=function(){return this.getServicesDataAndLabels().reduce((function(t,e){return e.consent.status?l(l([],u(t),!1),[e],!1):t}),[])},t.prototype.areAllServicesAccepted=function(){return this.getServicesData().every((function(t){return t.consent.status}))},t.prototype.areAllVendorsAndPurposesAccepted=function(){var t=this.getTcfData();return!!t&&(t.areAllPurposesAccepted()&&t.areAllVendorsAccepted())},t.prototype.extendServices=function(t,e){return a(this,void 0,void 0,(function(){var n,s;return c(this,(function(i){switch(i.label){case 0:return(n=this.dpsJson)?(this.isAggregatorLoaded=!0,[4,this.fetchServices(n)]):[2];case 1:return(s=i.sent())&&0!==s.length?(this.aggregatedServices=s,this.initLabels(t,e,s),this.data&&(this.data.categories=this.data.categories.map((function(t){var e=n.categories.find((function(e){return e.categorySlug===t.slug}));return o(o({},t),{services:t.services.map((function(t){if(n.consentTemplates.find((function(e){return e.templateId===t.id}))&&e){var i=null==s?void 0:s.find((function(e){return t.id===e.templateId&&t.version===e.version})),r=new en(i);return o(o({},t),r)}return t}))})}))),[2]):[2]}}))}))},t.prototype.isCcpaEnabled=function(){var t;return(null===(t=this.core)||void 0===t?void 0:t.isCcpaEnabled)||!1},t.prototype.isCcpaAvailable=function(){var t;if(this.isCcpaEnabled()&&null!=(null===(t=this.coreJson)||void 0===t?void 0:t.ccpa))switch(this.coreJson.ccpa.region){case B.US:return this.locationInstance.getIsUserInUS();case B.US_CA_ONLY:return this.locationInstance.getIsUserInCalifornia();default:return Promise.resolve(!0)}return Promise.resolve(!1)},t.prototype.isCrossDomainEnabled=function(){var t;return(null===(t=this.core)||void 0===t?void 0:t.consentSharingIFrameIsActive)||!1},t.prototype.isTcfEnabled=function(){var t;return(null===(t=this.core)||void 0===t?void 0:t.isTcfEnabled)||!1},t.prototype.isTcfAvailable=function(){var t;return this.isTcfEnabled()&&null!=(null===(t=this.coreJson)||void 0===t?void 0:t.tcf2)},t.prototype.isTagLoggerActive=function(){var t;return(null===(t=this.core)||void 0===t?void 0:t.isTagLoggerActive)||!1},t.prototype.mergeServicesIntoExistingCategories=function(t){return this.getCategoriesDataAndLabels().map((function(e){return o(o({},e),{services:e.services.map((function(e){var n=t.find((function(t){return t.id===e.id}));return n||e}))})}))},t.prototype.mergeServicesDataIntoExistingCategories=function(t){return this.getCategoriesData().map((function(e){return o(o({},e),{services:e.services.map((function(e){var n=t.find((function(t){return t.id===e.id}));return n||e}))})}))},t.prototype.setCategories=function(t){this.data&&(this.data.categories=t)},t.prototype.setControllerId=function(t){this.data&&(this.data.controllerId=t),it(this.data)&&this.data.updateControllerId(t)},t.prototype.updateServicesLanguage=function(t){this.data&&this.data.categories.map((function(e){return o(o({},e),{services:e.services.map((function(e){return o(o({},e),{language:o(o({},e.language),{selected:t})})}))})}))},t.prototype.shouldAcceptAllImplicitlyOnInit=function(){var t,e;return a(this,void 0,void 0,(function(){var n,s,i,r,o,a;return c(this,(function(c){switch(c.label){case 0:return null!==this.acceptAllImplicitlyOnInit?[2,this.acceptAllImplicitlyOnInit]:(n=this,(r=this.botInstance.isRobot())?[3,2]:[4,this.isCcpaAvailable()]);case 1:r=c.sent(),c.label=2;case 2:return(i=r)?[3,5]:(o=null===(t=this.core)||void 0===t?void 0:t.acceptAllImplicitlyOutsideEU)?[4,this.locationInstance.getIsUserInEU()]:[3,4];case 3:o=!c.sent(),c.label=4;case 4:i=o,c.label=5;case 5:return(s=i)?[3,8]:(a=this.isTcfAvailable())?[4,null===(e=this.getTcfData())||void 0===e?void 0:e.getGdprApplies()]:[3,7];case 6:a=!c.sent(),c.label=7;case 7:s=a,c.label=8;case 8:return n.acceptAllImplicitlyOnInit=s,[2,this.acceptAllImplicitlyOnInit]}}))}))},t.prototype.shouldShowFirstLayerOnVersionChange=function(){var t=se.fetchSettingsVersion();if(this.core&&t&&L(this.core.showFirstLayerOnVersionChange)){var e=this.core.version.split("."),n=t.split(".");return A(this.core.showFirstLayerOnVersionChange,h.MAJOR)&&e[0]!==n[0]||A(this.core.showFirstLayerOnVersionChange,h.MINOR)&&e[1]!==n[1]||A(this.core.showFirstLayerOnVersionChange,h.PATCH)&&e[2]!==n[2]}return!1},t.prototype.getUpdatedServicesWithConsent=function(t){return this.getServicesDataAndLabels().map((function(e){if(!e.isEssential){var n=e;return n.consent.status=t===d.TRUE,n}return e}))},t.prototype.getUpdatedServicesDataWithConsent=function(t){return this.getServicesData().map((function(e){if(!e.isEssential){var n=e;return n.consent.status=t===d.TRUE,n}return e}))},t.prototype.getUpdatedServicesWithDecisions=function(t){return this.getServicesDataAndLabels().map((function(e){var n=t.find((function(t){return t.serviceId===e.id})),s=e;return s.consent.status=e.isEssential||(n?n.status:e.consent.status),s}))},t.prototype.getUpdatedServicesDataWithDecisions=function(t){return this.getServicesData().map((function(e){var n=t.find((function(t){return t.serviceId===e.id})),s=e;return s.consent.status=e.isEssential||(n?n.status:e.consent.status),s}))},t.prototype.updateDataTransferSettings=function(t){var e=t.controllerId,n=t.id,s=t.selectedLanguage,i=t.version;this.core&&this.data&&(this.data.controllerId=e,this.core.id=n,this.core.language.selected=s,this.core.version=i)},t.prototype.isTcfHistoryV2Disabled=function(){return!!it(this.data)&&!0===this.data.tcfv2HistoryDisabled},t.prototype.getTCFPurposeOneTreatment=function(){return it(this.data)&&this.data.purposeOneTreatment||!1},t.prototype.getTCFStackIds=function(){return it(this.data)?this.data.stackIds:[]},t.prototype.getTCFVendorIds=function(){return it(this.data)?this.data.vendorIds:[]},t.prototype.getTCFDisclosedVendorsSegmentString=function(){var t;return null===(t=this.getTcfData())||void 0===t?void 0:t.getTCFDisclosedVendorsSegmentString()},t.prototype.injectTCString=function(t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){return(e=this.getTcfData())?[2,e.injectTCString(t)]:[2,!1]}))}))},t.prototype.fetchServices=function(t){return a(this,void 0,void 0,(function(){var e,n,s,i;return c(this,(function(r){switch(r.label){case 0:return(e=Ce(t.consentTemplates)).length?(n=Te.getInstance(),s=De.getInstance(),i=[],s.isRobot()?[3,2]:[4,n.fetchAggregatedServices(e)]):[2,null];case 1:i=r.sent(),r.label=2;case 2:return[2,i]}}))}))},t.prototype.mapBaseServices=function(t){return t.map((function(t){return{categorySlug:t.categorySlug,consent:t.consent,fetchSubServices:t.fetchSubServices,id:t.id,isEssential:t.isEssential,isHidden:t.isHidden,processorId:t.processorId,subServices:t.subServices,subServicesLength:t.subServicesLength,version:t.version}}))},t}(),gn=function(){function t(){this.useOnlySettingsV2=!1,this.apiInstance=Te.getInstance(),this.controllerIdInstance=Ie.getInstance(),this.eventDispatcherInstance=we.getInstance(),this.settingsV2=dn.getInstance(),this.botInstance=De.getInstance()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.resetInstance=function(){delete t.instance.userSessionData},t.prototype.execute=function(t,e,n,s,i){var r,o=this.settingsV2.getDataTransferSettings();if(o){var a=t.map((function(t){return O(o,t,n,s)})),c=hn(e,a);if(!this.botInstance.isRobot()&&(this.apiInstance.saveConsents({consentString:i,dataTransferObjects:a}),null===(r=this.settingsV2.core)||void 0===r?void 0:r.consentAPIv2)){var u=this.mapDataTransferObjectsV2(o,t,n,i);this.apiInstance.saveConsentsV2(u)}this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(c));var l=this.settingsV2.getServicesDataAndLabels();se.saveSettings(se.mapSettings(o,l),l),Je.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent()),this.eventDispatcherInstance.dispatch(a,this.settingsV2.getGoogleConsentMode())}},t.prototype.getMergedServicesAndSettingsFromStorage=function(t){var e=t,n=se.fetchSettings();if(n&&e){var s=this.settingsV2.getServicesFromCategories(this.settingsV2.getEssentialCategories()),i=this.settingsV2.getServicesFromCategories(this.settingsV2.getEssentialCategoriesData()),r=this.settingsV2.getServicesFromCategories(this.settingsV2.getNonEssentialCategories()),o=this.settingsV2.getServicesFromCategories(this.settingsV2.getNonEssentialCategoriesData()),a=this.getMergedAndUpdatedEssentialServices(s,n),c=this.getMergedAndUpdatedEssentialServices(i,n),u=this.getMergedNonEssentialServices(r,n),l=this.getMergedNonEssentialServices(o,n);return n.controllerId!==this.controllerIdInstance.value&&(this.controllerIdInstance.value=n.controllerId,e.controllerId=n.controllerId,it(e)&&e.updateControllerId(n.controllerId)),{dataTransferSettings:this.settingsV2.getDataTransferSettings(),mergedServicesData:c.mergedEssentialServices.concat(l),mergedServicesV2:a.mergedEssentialServices.concat(u),mergedSettingsData:e,updatedEssentialServicesV2:a.updatedEssentialServices}}return{dataTransferSettings:null,mergedServicesData:[],mergedServicesV2:[],mergedSettingsData:e,updatedEssentialServicesV2:[]}},t.prototype.getLatestConsentType=function(t){return t.length>0?t[t.length-1].type:"implicit"},t.prototype.getLatestConsentAction=function(t){return t.length>0?t[t.length-1].action:"onInitialPageLoad"},t.prototype.setUserSessionData=function(t){this.userSessionData=t},t.prototype.mergeServicesAndSettings=function(t,e,n,s){var i,r=this;if(!n)return[];if(L(s)){var o=s.map((function(t){return O(n,t,"onEssentialChange",r.getLatestConsentType(t.consent.history))})),a=hn(e,o),c=pn(t,a);if(this.apiInstance.saveConsents({dataTransferObjects:o}),null===(i=this.settingsV2.core)||void 0===i?void 0:i.consentAPIv2){var u=this.mapDataTransferObjectsV2(n,s,"onEssentialChange");this.apiInstance.saveConsentsV2(u)}this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(a)),se.saveSettings(se.mapSettings(n,c),c)}else this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(e)),se.saveSettings(se.mapSettings(n,t),t);return t.map((function(t){return O(n,t,r.getLatestConsentAction(t.consent.history),r.getLatestConsentType(t.consent.history))}))},t.prototype.restoreUserSession=function(t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return this.controllerIdInstance.value&&this.controllerIdInstance.needsSessionRestore?[4,this.getCrossDeviceSessionData(this.controllerIdInstance.value)]:[3,2];case 1:e=n.sent(),n.label=2;case 2:if(!e&&this.userSessionData&&(e=o({},this.userSessionData)),!e&&window.ucMobileSdk&&"function"==typeof window.ucMobileSdk.getUserSessionData)try{(null==(e=JSON.parse(window.ucMobileSdk.getUserSessionData(),(function(t,e){if("timestamp"===t){var n=e.toString();return-1!==n.indexOf(".")?1e3*Number(n):Number(n)}return e})))?void 0:e.consents)&&(null==e?void 0:e.consents.length)&&!e.consents.every((function(t){return t.action}))&&(e.consents=e.consents.map((function(t){return o(o({},t),{action:"onMobileSessionRestore"})})),this.restoreAction="onMobileSessionRestore")}catch(s){}return e||!Zt.isCrossDomainAvailable()?[3,4]:[4,this.getCrossDomainSessionData()];case 3:e=n.sent(),n.label=4;case 4:return e&&e.controllerId?[2,this.restoreData(e,t)]:(this.controllerIdInstance.needsSessionRestore=!1,[2,!1])}}))}))},t.prototype.getCrossDomainSessionData=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,Zt.getCrossDomainSessionData().catch((function(){return console.warn(Gt.CROSS_DOMAIN_DATA_NOT_AVAILABLE),{}}))];case 1:return[2,t.sent()]}}))}))},t.prototype.getCrossDeviceSessionData=function(t){return a(this,void 0,void 0,(function(){var e,n,s,i,r;return c(this,(function(a){switch(a.label){case 0:return[4,this.apiInstance.fetchUserConsents().catch((function(){return console.warn(kt.CROSS_DEVICE_DATA_NOT_AVAILABLE),[]}))];case 1:return e=a.sent(),n=["dWLDa0s-m","VkvM9IcSA","Zdgjo9gQh","r2tAWzO7","GVl-ixMH"],s=this.apiInstance.getSettingsId(),i=null,this.settingsV2.isTcfAvailable()?-1===n.indexOf(s)?[3,3]:[4,this.apiInstance.fetchUserTcfData().catch((function(){return console.warn(kt.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE),null}))]:[3,7];case 2:return i=a.sent(),[3,5];case 3:return this.settingsV2.isTcfHistoryV2Disabled()?[3,5]:[4,this.apiInstance.fetchUserTcfDataV2().catch((function(){return console.warn(kt.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE),null}))];case 4:i=a.sent(),a.label=5;case 5:return i||!Zt.isCrossDomainAvailable()?[3,7]:[4,this.getCrossDomainSessionData()];case 6:(r=a.sent())&&r.tcf&&r.controllerId===t&&(i=r.tcf),a.label=7;case 7:return[2,o({consents:e,controllerId:t,language:this.apiInstance.getJsonFileLanguage()},null!==i&&{tcf:i})]}}))}))},t.prototype.restoreData=function(t,e){var n;return a(this,void 0,void 0,(function(){var s,i,r,o,a,u,l,d,g,h,p,f,v,S,I,y,C,T,m=this;return c(this,(function(c){return s=t.controllerId,i=t.consents,r=t.tcf,o=t.ccpa,a=this.settingsV2.core,u=this.getDataFacadeServices(e),r&&r.tcString&&(se.saveTCFData(r),u.length||se.setUserActionPerformed()),l=this.settingsV2.getCcpaData(),o&&o.ccpaString&&l&&(l.setIsOptedOut(o.ccpaString),se.setCcpaString(o.ccpaString),o.timestamp?se.setCcpaTimeStamp(o):se.clearCcpaData(),se.setUserActionPerformed()),!s||!L(i)&&u.length||(d=vn(i),g=Sn(i),!L(g)&&u.length)?[2,!1]:(h=[],p=[],g.forEach((function(t){var e=u.findIndex((function(e){return e.id===t.templateId}));if(e>-1){var n=u[e],s=n;s.consent.status=t.status;var i=p.findIndex((function(t){return t.id===n.id}));-1===i?p.push(s):p[i]=s,u[e]=s;var r=m.settingsV2.getDataTransferSettings(t.settingsVersion);r&&h.push(O(r,s,t.action,t.updatedBy,{timestamp:"string"==typeof t.timestamp?m.resolveTimestamp(t.timestamp):t.timestamp}))}})),this.settingsV2.data&&(this.settingsV2.data.controllerId=s),f=void 0,v=void 0,a&&g.length&&(v=w(g.map((function(t){return t.settingsVersion}))).sort(W)).length&&(f=v[v.length-1]),S=hn(u,h),I=this.settingsV2.getDataTransferSettings(f),(y=this.settingsV2.data)&&I&&s&&s!==se.fetchControllerId()&&(C=p.map((function(t){return O(I,t,"onSessionRestored","implicit",{referrerControllerId:y.controllerId})})),this.restoreAction="onSessionRestored",this.apiInstance.saveConsents({dataTransferObjects:C}),(null===(n=this.settingsV2.core)||void 0===n?void 0:n.consentAPIv2)&&(T=this.mapDataTransferObjectsV2(I,p,"onSessionRestored"),this.apiInstance.saveConsentsV2(T))),s===se.fetchControllerId()&&(this.restoreAction="onInitialPageLoad"),I&&se.saveSettings(se.mapSettings(I,S),S),L(d)&&se.setUserActionPerformed(),[2,!0])}))}))},t.prototype.mapDataTransferObjectsV2=function(t,e,n,s){var i=e.map((function(t){return{consentStatus:t.consent.status,consentTemplateId:t.id,consentTemplateVersion:t.version}})),r="",o="";if(this.settingsV2.isTcfEnabled()){var a=se.fetchTCFData(),c=a.tcString,u=a.timestamp,l=a.vendors,d=a.vendorsDisclosed;r=D(r?null==s?void 0:s.TCF2:c,""),o=JSON.stringify({timestamp:u,vendors:l,vendorsDisclosed:d})}else this.settingsV2.isCcpaEnabled()&&(r=D(null==s?void 0:s.CCPA,""));return{action:n,appVersion:E().replace("SDK-",""),consentMeta:o,consents:i,consentString:r,controllerId:t.controllerId,language:t.selectedLanguage,settingsId:t.id,settingsVersion:t.version}},t.prototype.getDataFacadeServices=function(t){var e=this.settingsV2.checkIfServiceNameExists,n=t.categories,s=t.consentTemplates;if(s.length>0&&e(s))return s.map((function(t){var e,s=n.find((function(e){return e.categorySlug===t.categorySlug}));return{consent:Ye(t,s),id:t.templateId,name:(null===(e=t._meta)||void 0===e?void 0:e.name)||"",processorId:"".concat(ue(ve())),version:t.version}}));var i=this.settingsV2.getServicesDataAndLabels();return i.length>0?i.map((function(t){return{consent:t.consent,id:t.id,name:t.name,processorId:t.processorId,version:t.version}})):[]},t.prototype.getMergedAndUpdatedEssentialServices=function(t,e){var n=[];return{mergedEssentialServices:t.map((function(t){var s,i=null===(s=e.services)||void 0===s?void 0:s.find((function(e){return e.id===t.id}));if(i){var r=t;return r.consent.history=i.history,r.consent.status=!0,r.processorId=i.processorId,i.status||n.push(r),r}return t})),updatedEssentialServices:n}},t.prototype.getMergedNonEssentialServices=function(t,e){return t.map((function(t){var n,s,i=null===(n=e.services)||void 0===n?void 0:n.find((function(e){return e.id===t.id}));if(i)return(r=t).consent.history=i.history,r.consent.status=i.status,r.processorId=i.processorId,r;if(0===t.consent.history.length){var r=t,o=null===(s=e.services)||void 0===s?void 0:s.find((function(t){return t.history.length>0}));return r.consent.history=[{action:"onInitialPageLoad",language:t.language?t.language.selected:"en",status:t.consent.status,timestamp:(new Date).getTime(),type:"implicit",versions:o&&o.history.length>0?o.history[0].versions:{application:"",service:t.version,settings:""}}],r}return t}))},t.prototype.resolveTimestamp=function(t){return 10===t.length?1e3*parseInt(t,10):parseInt(t,10)},t}(),hn=function(t,e){return t.map((function(t){var n=e.filter((function(e){return e.service.id===t.id}));if(L(n)){var s=t.consent.history,i=s.length+n.length,r=i<=3?s:s.slice(i-3),o=t;return o.consent.history=l(l([],u(r),!1),u(n.map((function(t){return fn(t)}))),!1),o}return t}))},pn=function(t,e){return t.reduce((function(t,n){var s=e.find((function(t){return t.id===n.id}));return s?l(l([],u(t),!1),[o(o({},n),{consent:s.consent})],!1):l([],u(t),!1)}),[])},fn=function(t){return{action:t.consent.action,language:t.settings.language,status:t.consent.status,timestamp:t.timestamp,type:t.consent.type,versions:{application:t.applicationVersion,service:t.service.version,settings:t.settings.version}}},vn=function(t){return t.filter((function(t){return!He.includes(t.action)}))},Sn=function(t){return t.filter((function(t){return"onSessionRestored"!==t.action}))},In=function(){function t(){this.primaryLanguage="",this.apiInstance=Te.getInstance()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.setPrimaryLanguage=function(t){this.primaryLanguage=t},t.prototype.getPrimaryLanguage=function(){return this.primaryLanguage},t.prototype.resolveLanguage=function(){return a(this,void 0,void 0,(function(){var t,e,n,s,i;return c(this,(function(r){switch(r.label){case 0:return[4,this.apiInstance.fetchAvailableLanguages()];case 1:return t=r.sent(),(e=Tn(t,this.primaryLanguage))?(this.apiInstance.setJsonFileLanguage(e),[2]):(n=se.fetchLanguage(),(e=Tn(t,n))?(this.apiInstance.setJsonFileLanguage(e),[2]):(s=Cn(t))?(this.apiInstance.setJsonFileLanguage(s),[2]):(i=yn(t))?(this.apiInstance.setJsonFileLanguage(i),[2]):t.length>0?(this.apiInstance.setJsonFileLanguage(t[0]),[2]):(this.apiInstance.setJsonFileLanguage("en"),[2]))}}))}))},t}(),yn=function(t){var e=window.navigator;if(L(e.languages))for(var n=0;n<e.languages.length;n+=1){var s=Tn(t,e.languages[n]);if(s)return s}var i=null!=e.language?e.language:e.userLanguage;return Tn(t,i)},Cn=function(t){var e=document.documentElement.lang;return e?Tn(t,e):null},Tn=function(t,e){if(e){var n=e.toLowerCase().replace("-","_");if(A(t,n))return n;var s=e.slice(0,2);if(A(t,s))return s}return null},mn=function(){function t(){this.needsSessionRestore=!1,this.apiInstance=Te.getInstance(),this.locationInstance=Ze.getInstance()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.resetInstance=function(){delete t.instance.noShow},t.prototype.unsetNoShow=function(){delete this.noShow},t.prototype.getIsUsingNoShow=function(){return void 0!==this.noShow},t.prototype.getNoShow=function(){return!0===this.noShow},t.prototype.setNoShow=function(t){this.noShow=t},t.prototype.resolveSettingsId=function(){return a(this,void 0,void 0,(function(){var t,e,n,s,i,r,o,a;return c(this,(function(c){switch(c.label){case 0:return[4,this.apiInstance.fetchRuleset()];case 1:return t=c.sent(),n="",s=t.location,i=t.rules,r=t.defaultRule,o=r.settingsId,a=r.noShow,s&&s.code&&(e=s.regionCode&&i.find((function(t){var e;return null===(e=t.locations)||void 0===e?void 0:e.includes(s.regionCode)}))||i.find((function(t){var e;return null===(e=t.locations)||void 0===e?void 0:e.includes(s.code)})),this.locationInstance.setUserCountryData(s),se.setUserCountryResponse(Ze.mapUserCountryData(s))),this.unsetNoShow(),e?(n=e.settingsId,void 0!==e.noShow&&this.setNoShow(!0===e.noShow)):(n=o,this.setNoShow(!0===a)),[2,{noShow:this.getNoShow(),settingsId:n}]}}))}))},t}(),An=function(){function t(){this.initOptions=null,this.isFirstTimePageVisit=!0,this.selectedLayer=null,this.shouldAcceptAllImplicitly=null,this.shouldShowFirstLayerOnVersionChange=!1,this.variant=null,this.ampInstance=_t.getInstance(),this.botInstance=De.getInstance(),this.settingsV2=dn.getInstance(),this.rulesetInstance=mn.getInstance(),this.apiInstance=Te.getInstance()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.resetInstance=function(){t.instance.selectedLayer=null,t.instance.variant=null,t.instance.shouldAcceptAllImplicitly=null,t.instance.initOptions=null},t.prototype.init=function(t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return this.initOptions=t,this.isFirstTimePageVisit=this.isFirstTimeVisit(),null!==this.shouldAcceptAllImplicitly?[3,2]:(e=this,[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]);case 1:e.shouldAcceptAllImplicitly=n.sent(),n.label=2;case 2:return this.shouldShowFirstLayerOnVersionChange=this.settingsV2.shouldShowFirstLayerOnVersionChange(),[2]}}))}))},t.prototype.isFirstTimeVisit=function(){return!se.settingsExist()||this.botInstance.isRobot()},t.prototype.shouldShowNone=function(){return a(this,void 0,void 0,(function(){var t,e;return c(this,(function(n){switch(n.label){case 0:return t=0===this.variant,null!==this.shouldAcceptAllImplicitly?[3,2]:(e=this,[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]);case 1:e.shouldAcceptAllImplicitly=n.sent(),n.label=2;case 2:return this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()?[2,this.rulesetInstance.getNoShow()]:[2,this.shouldAcceptAllImplicitly&&!t]}}))}))},t.prototype.shouldShowFirstLayer=function(t){var e,n,s,i,r,o;return a(this,void 0,void 0,(function(){var a,u,l,d,g;return c(this,(function(c){if(a=this.ampInstance.isAmpEnabled(),u=0===this.variant,l=(null===(e=t.ccpa)||void 0===e?void 0:e.showOnPageLoad)||!1,d=u?l:!this.shouldAcceptAllImplicitly,!(null===(n=this.initOptions)||void 0===n?void 0:n.suppressCmpDisplay)&&(d&&this.isFirstTimePageVisit||this.shouldShowFirstLayerOnVersionChange||!se.fetchUserActionPerformed()&&(!u||l)||a))return[2,!0];switch(this.variant){case 0:if(!(null===(s=this.initOptions)||void 0===s?void 0:s.suppressCmpDisplay)&&this.shouldShowFirstLayerForCcpa(null===(i=t.ccpa)||void 0===i?void 0:i.reshowAfterDays))return[2,!0];break;case 2:if(g=this.settingsV2.getTcfData(),!(null===(r=this.initOptions)||void 0===r?void 0:r.suppressCmpDisplay)&&(null==g?void 0:g.shouldResurfaceUI()))return[2,!0];break;default:if(!(null===(o=this.initOptions)||void 0===o?void 0:o.suppressCmpDisplay)&&this.shouldForceReshowGDPRBanner())return[2,!0]}return[2,!1]}))}))},t.prototype.shouldForceReshowGDPRBanner=function(){var t=this.settingsV2.core;if(!t)return!1;var e,n=t.reshowBanner,s=this.settingsV2.getServicesData(),i=s.reduce((function(t,e){return l(l([],u(t),!1),u(e.consent.history),!1)}),[]).filter((function(t){return["onAcceptAllServices","onDenyAllServices","onUpdateServices"].indexOf(t.action)>-1})).sort((function(t,e){return e.timestamp-t.timestamp}));if(n>0&&i.length>0){var r=new Date(i[0].timestamp);return r.setMonth(r.getMonth()+n),e=r,(new Date).getTime()-e.getTime()>=0}return!1},t.prototype.shouldShowPrivacyButton=function(t){var e=window.location.href,n=!t.privacyButtonUrls||0===t.privacyButtonUrls.contains.length;return t.privacyButtonUrls&&t.privacyButtonUrls.contains.length>0&&t.privacyButtonUrls.contains.some((function(t){return e.includes(t)}))&&(n=!0),t.privacyButtonIsVisible&&n},t.prototype.resolveUiVariant=function(t){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return null!==this.variant?[2,this.variant]:[4,this.settingsV2.isCcpaAvailable()];case 1:return e.sent()?this.variant=0:this.variant=t?2:1,[2,this.variant]}}))}))},t.prototype.resolveUiInitialLayer=function(t){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.shouldShowNone()];case 1:return e.sent()?[2,1]:[4,this.shouldShowFirstLayer(t)];case 2:return e.sent()?[2,0]:this.shouldShowPrivacyButton(t)?[2,2]:[2,1]}}))}))},t.prototype.resolveUIOptions=function(t){return a(this,void 0,void 0,(function(){var e,n,s;return c(this,(function(i){switch(i.label){case 0:return e=this.ampInstance.isAmpEnabled(),null!==this.variant?[3,2]:(n=this,[4,this.resolveUiVariant(t.tcf2Enabled)]);case 1:n.variant=i.sent(),i.label=2;case 2:return 0!==this.variant&&se.clearCcpa(),2!==this.variant&&se.clearTcf(),s=this,[4,this.resolveUiInitialLayer(t)];case 3:return s.selectedLayer=i.sent(),[2,{ampEnabled:e,initialLayer:this.selectedLayer,variant:this.variant}]}}))}))},t.prototype.shouldShowFirstLayerForCcpa=function(t){void 0===t&&(t=365);var e=this.settingsV2.legacySettings;if(!e)return!1;var n;return e.ccpa.reshowCMP&&((n=se.getCcpaData())?((new Date).getTime()-n.timestamp)/864e5:0)>t},t}(),En=function(t,e){console.warn("".concat(t," is deprecated. Please use ").concat(e," instead."))};var bn,Ln,_n,Dn,On,Nn,wn=Object.freeze({initialize:function({modulePath:t=".",importFunctionName:e="__import__"}={}){try{self[e]=new Function("u","return import(u)")}catch(n){const s=new URL(t,location),i=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((n,r)=>{const o=new URL(t,s);if(self[e].moduleMap[o])return n(self[e].moduleMap[o]);const a=new Blob([`import * as m from '${o}';`,`${e}.moduleMap['${o}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){r(new Error(`Failed to import: ${t}`)),i(c)},onload(){n(self[e].moduleMap[o]),i(c)}});document.head.appendChild(c)})),self[e].moduleMap={}}}}),Rn=function(e){if(e&&e.source&&e.source.postMessage){var n="string"==typeof e.data,s=e.data;if(n)try{s=JSON.parse(e.data)}catch(r){return}if("object"===t(s)&&s.__tcfapiCall){var i=s.__tcfapiCall;window.__tcfapi(i.command,i.version,(function(t,s){var r={__tcfapiReturn:{returnValue:t,success:s,callId:i.callId}},o=n?JSON.stringify(r):r;try{e.source.postMessage(o,"*")}catch(a){}}),i.parameter)}}},Un=[],Fn=function(t,e,n,s){if(!t)return Un;switch(t){case"ping":"function"==typeof n&&n(!0,!1,"stub");break;case"pending":return Un;default:Un.push([t,e,n,s])}},Pn=function(){return!function(){for(var t=window,e=!1;t;){try{if(t.frames.__tcfapiLocator){e=!0;break}}catch(n){}if(t===window.top){e=!1;break}t=t.parent}return e}()&&(Y((function(){return!!window.document.body}),"").then((function(){var t=window.document.createElement("iframe");t.style.cssText="display:none",t.name="__tcfapiLocator",window.document.body.appendChild(t)})),!0)},Vn=function(){"undefined"!=typeof window&&(window.__tcfapi||Pn()&&(window.addEventListener("message",Rn,!1),window.__tcfapi=Fn))};!function(t){t.ACCEPT_ALL_SERVICES="onAcceptAllServices",t.DENY_ALL_SERVICES="onDenyAllServices",t.ESSENTIAL_CHANGE="onEssentialChange",t.INITIAL_PAGE_LOAD="onInitialPageLoad",t.NON_EU_REGION="onNonEURegion",t.SESSION_RESTORED="onSessionRestored",t.TCF_STRING_CHANGE="onTcfStringChange",t.UPDATE_SERVICES="onUpdateServices",t.MOBILE_SESSION_RESTORED="onMobileSessionRestore"}(bn||(bn={})),function(t){t.EXPLICIT="explicit",t.IMPLICIT="implicit"}(Ln||(Ln={})),function(t){t[t.UNDEFINED=0]="UNDEFINED",t[t.CMP_SHOWN=1]="CMP_SHOWN",t[t.ACCEPT_ALL=2]="ACCEPT_ALL",t[t.DENY_ALL=3]="DENY_ALL",t[t.SAVE=4]="SAVE",t[t.ACCEPT_ALL_L1=5]="ACCEPT_ALL_L1",t[t.DENY_ALL_L1=6]="DENY_ALL_L1",t[t.SAVE_L1=7]="SAVE_L1",t[t.ACCEPT_ALL_L2=8]="ACCEPT_ALL_L2",t[t.DENY_ALL_L2=9]="DENY_ALL_L2",t[t.SAVE_L2=10]="SAVE_L2",t[t.COOKIE_POLICY_LINK=11]="COOKIE_POLICY_LINK",t[t.IMPRINT_LINK=12]="IMPRINT_LINK",t[t.MORE_INFORMATION_LINK=13]="MORE_INFORMATION_LINK",t[t.PRIVACY_POLICY_LINK=14]="PRIVACY_POLICY_LINK",t[t.CCPA_TOGGLES_ON=15]="CCPA_TOGGLES_ON",t[t.CCPA_TOGGLES_OFF=16]="CCPA_TOGGLES_OFF"}(_n||(_n={})),function(t){t.API_NAME="__uspapi",t.GET_USP_DATA="getUSPData"}(Dn||(Dn={})),function(t){t[t.FIRST_LAYER=0]="FIRST_LAYER",t[t.NONE=1]="NONE",t[t.PRIVACY_BUTTON=2]="PRIVACY_BUTTON",t[t.SECOND_LAYER=3]="SECOND_LAYER"}(On||(On={})),function(t){t[t.CCPA=0]="CCPA",t[t.DEFAULT=1]="DEFAULT",t[t.TCF=2]="TCF"}(Nn||(Nn={})),void 0!==wn&&wn.initialize({modulePath:"/dir"});var Bn=function(){function e(e,n){var s;if(this.ampInstance=_t.getInstance(),this.apiInstance=Te.getInstance(),this.botInstance=De.getInstance(),this.controllerIdInstance=Ie.getInstance(),this.dataFacadeInstance=gn.getInstance(),this.eventDispatcherInstance=we.getInstance(),this.initOptions={},this.languageInstance=In.getInstance(),this.locationInstance=Ze.getInstance(),this.settingsV2=dn.getInstance(),this.uiInstance=An.getInstance(),this.domains=null,this.rulesetRule={noShow:!0,settingsId:""},n&&(this.initOptions=n),this.domains=(s=window.UC_UI_DOMAINS)?Object.entries(s).reduce((function(t,e){var n,s,i=e[0],r=e[1];return"/"===r.slice(-1)?o(o({},t),((n={})[i]=r.slice(0,-1),n)):o(o({},t),((s={})[i]=r,s))}),{aggregator:"",app:"",cdn:"",consents:"",crossDomainConsentSharingIFrame:"",graphql:"",trackingEvent:""}):null,this.apiInstance.setDomains(!0===(null==n?void 0:n.sandboxEnv),this.domains),(null==n?void 0:n.createTcfApiStub)&&(this.apiInstance.fetchUserCountry(),Vn()),this.apiInstance.setEuMode(!0===(null==n?void 0:n.euMode)),(null==n?void 0:n.useRulesetId)?this.apiInstance.setRulesetId(e):this.apiInstance.setSettingsId(e),this.controllerIdInstance.value="",(null==n?void 0:n.controllerId)&&(this.controllerIdInstance.value=n.controllerId),(null==n?void 0:n.language)&&this.languageInstance.setPrimaryLanguage(n.language),(null==n?void 0:n.settingsCache)&&this.apiInstance.setJsonCacheBustingString(n.settingsCache),(null==n?void 0:n.version)&&this.apiInstance.setJsonFileVersion(n.version),(null==n?void 0:n.userCountryData)&&"object"===t(n.userCountryData)&&Object.keys(n.userCountryData).every((function(t){return"string"==typeof t}))&&this.locationInstance.setUserCountryData(n.userCountryData),(null==n?void 0:n.userSessionData)&&this.dataFacadeInstance.setUserSessionData(n.userSessionData),(null==n?void 0:n.ampEnabled)&&this.ampInstance.setIsAmpEnabled(!0),(null==n?void 0:n.blockDataLayerPush)&&this.eventDispatcherInstance.setBlockDataLayerPush(!0),(null==n?void 0:n.storeServiceIdToNameMapping)&&(Storage.prototype.storeServiceIdToNameMapping=!0),(null==n?void 0:n.useOnlySettingsV2)&&(this.initOptions.useOnlySettingsV2=!0),(null==n?void 0:n.disableTracking)&&(this.initOptions.disableTracking=!0),(null==n?void 0:n.disableServerConsents)&&this.apiInstance.setDisableServerConsents(!0),(null==n?void 0:n.disableServerConsents)&&(null==n?void 0:n.controllerId))throw new Error("Usercentrics: disableServerConsents and controllerId should not be present at the same time in the InitOptions!");this.initOptions.prefetchServices=D(null==n?void 0:n.prefetchServices,!0),this.setTrackingPixel=this.setTrackingPixel.bind(this)}return e.prototype.init=function(){return a(this,void 0,void 0,(function(){var t,e,n,s,i,r,o,u,l,d,g,h,p,f,v=this;return c(this,(function(S){switch(S.label){case 0:return se.getInstance().init(),this.apiInstance.getRulesetId()?(t=this,[4,mn.getInstance().resolveSettingsId()]):[3,2];case 1:t.rulesetRule=S.sent(),this.apiInstance.setSettingsId(this.rulesetRule.settingsId),S.label=2;case 2:return se.clearOnNewSettingsId(this.apiInstance.getSettingsId()),se.migrateLegacySettings(this.apiInstance.getSettingsId()),this.controllerIdInstance.init(),[4,this.languageInstance.resolveLanguage()];case 3:S.sent(),e=null,n=null,s=null,i=function(){return a(v,void 0,void 0,(function(){return c(this,(function(t){return s?[2,s]:[2,this.loadSettings()]}))}))},S.label=4;case 4:return S.trys.push([4,7,,9]),[4,this.apiInstance.fetchDpsJson()];case 5:return n=S.sent(),[4,this.apiInstance.fetchCoreJson()];case 6:return e=S.sent(),[3,9];case 7:return S.sent(),[4,i()];case 8:return s=S.sent(),e=function(t){return{buttonDisplayLocation:t.buttonDisplayLocation,buttonPrivacyCloseIcon:t.buttonPrivacyCloseIcon,buttonPrivacyOpenIconUrl:t.buttonPrivacyOpenIconUrl,ccpa:(s=t.ccpa,{iabAgreementExists:s.iabAgreementExists,isActive:s.isActive,region:s.region,reshowAfterDays:s.reshowAfterDays,showOnPageLoad:s.showOnPageLoad}),consentSharingIFrameIsActive:t.consentSharingIFrameIsActive,customization:(n=t.customization,n?{color:n.color?{primary:n.color.primary,privacyButtonBackground:n.color.privacyButtonBackground,privacyButtonIcon:n.color.privacyButtonIcon}:null}:n),dataExchangeOnPage:t.dataExchangeOnPage,displayOnlyForEU:t.displayOnlyForEU,enableBotDetection:t.enableBotDetection,googleConsentMode:t.googleConsentMode,interactionAnalytics:t.interactionAnalytics,languagesAvailable:t.languagesAvailable,privacyButtonIsVisible:t.privacyButtonIsVisible,privacyButtonUrls:t.privacyButtonUrls,reshowBanner:t.reshowBanner,settingsId:t.settingsId,showInitialViewForVersionChange:t.showInitialViewForVersionChange,tagLoggerIsActive:t.tagLoggerIsActive,tcf2:(e=t.tcf2,{resurfaceIABLegalBasisChanged:e.resurfaceIABLegalBasisChanged,resurfacePeriodEnded:e.resurfacePeriodEnded,resurfacePurposeChanged:e.resurfacePurposeChanged,resurfaceVendorAdded:e.resurfaceVendorAdded}),tcf2Enabled:t.tcf2Enabled,version:t.version};var e,n,s}(s),n=Lt(s),[3,9];case 9:if(!e||!n)throw new Error;return this.botInstance.isBotEnabled=e.enableBotDetection,!e.consentSharingIFrameIsActive||this.botInstance.isRobot()?[3,11]:[4,Zt.init({useEuCdn:this.initOptions.euMode||!1},this.domains).then((function(){return a(v,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return Zt.setCrossDomainId(this.apiInstance.getSettingsId()),Zt.setIsCrossDomainAvailable(!0),Zt.setUseEuCdn(this.initOptions.euMode||!1),this.languageInstance.getPrimaryLanguage()?[3,3]:[4,Zt.getCrossDomainLanguage().catch((function(){return console.warn(Gt.CROSS_DOMAIN_LANGUAGE_NOT_AVAILABLE),""}))];case 1:return t=e.sent(),[4,this.changeLanguage(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))})).catch((function(t){Zt.setIsCrossDomainAvailable(!1),Zt.removeIFrame("uc-cross-domain-bridge"),console.warn(Gt.CROSS_DOMAIN_FEATURE_NOT_AVAILABLE,t)}))];case 10:S.sent(),S.label=11;case 11:return this.botInstance.isRobot()?this.initOptions.suppressCmpDisplay=!0:this.initOptions.disableTracking||this.addTrackingPixel(this.apiInstance.getSettingsId(),!0===this.initOptions.euMode),r=this.initOptions.useOnlySettingsV2,o=this.apiInstance.getJsonFileLanguage(),[4,this.settingsV2.init(e,n,o)];case 12:return S.sent(),[4,this.uiInstance.resolveUiVariant(e.tcf2Enabled)];case 13:return u=S.sent(),r?[3,15]:[4,i()];case 14:return s=S.sent(),[3,16];case 15:this.dataFacadeInstance.useOnlySettingsV2=r,S.label=16;case 16:return[4,this.settingsV2.initData(u,[],!1)];case 17:return S.sent(),[4,this.apiInstance.fetchTranslations()];case 18:return l=S.sent(),!this.initOptions.prefetchServices&&this.settingsV2.allLegacyServicesHaveName?[3,20]:[4,this.settingsV2.extendServices(u,l)];case 19:return S.sent(),this.apiInstance.resetAggregatedServicesCache(),[3,21];case 20:this.settingsV2.initLabels(u,l),S.label=21;case 21:return[4,this.dataFacadeInstance.restoreUserSession(n)];case 22:return d=S.sent(),[4,this.uiInstance.init(this.initOptions)];case 23:return S.sent(),g=this.settingsV2.getTcfData(),it(this.settingsV2.data)&&g?[4,this.settingsV2.data.init()]:[3,25];case 24:S.sent(),S.label=25;case 25:return h=[],se.settingsExist()&&(h=this.processStorageServicesAndSettings(this.settingsV2.data)),[4,this.uiInstance.resolveUIOptions(e)];case 26:return p=S.sent(),f=p.initialLayer,[4,this.settingsV2.initUI(f,u)];case 27:return S.sent(),g?0!==f||this.botInstance.isRobot()?[3,29]:[4,g.setUIAsOpen()]:[3,31];case 28:return S.sent(),[3,31];case 29:return[4,g.setUIAsClosed()];case 30:S.sent(),S.label=31;case 31:return this.botInstance.isRobot()||2!==u?[3,33]:[4,i()];case 32:s=S.sent(),S.label=33;case 33:return!this.settingsV2.isTagLoggerActive()||this.botInstance.isRobot()?[3,35]:[4,import("./Taglogger-7d8301bf.js").then((function(t){(new(0,t.default)).initTagLogger()}))];case 34:S.sent(),S.label=35;case 35:return this.eventDispatcherInstance.init(this.settingsV2.getDataExchangeSettings()),[4,this.updateStorage(h,d)];case 36:return S.sent(),[2,p]}}))}))},e.prototype.acceptAllForTCF=function(t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return(e=this.settingsV2.getTcfData())?[4,e.acceptAllDisclosed(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.acceptAllServices=function(t){return void 0===t&&(t="explicit"),a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(d.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(d.TRUE),"onAcceptAllServices",t),[4,this.saveUserActionPerformed()];case 1:return e.sent(),[2]}}))}))},e.prototype.changeLanguage=function(t){var e;return a(this,void 0,void 0,(function(){var n,s,i,r,o,a,u,l,d,g,h,p,f,v,S,I,y;return c(this,(function(c){switch(c.label){case 0:return n=null===(e=this.settingsV2.core)||void 0===e?void 0:e.language.available,s=n&&n.some((function(e){return e===t})),i=t!==this.apiInstance.getJsonFileLanguage()&&s,r=this.settingsV2,o=r.core,a=r.data,i&&a&&o?(this.apiInstance.setJsonFileLanguage(t),this.apiInstance.resetTranslationsCache(),this.settingsV2.language=t,[4,this.loadSettings()]):[3,12];case 1:u=c.sent(),l=null,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.apiInstance.fetchDpsJson()];case 3:return l=c.sent(),[3,5];case 4:return c.sent(),l=Lt(u),[3,5];case 5:return this.settingsV2.dpsJson=l,d=this.uiInstance,g=d.selectedLayer,h=d.variant,[4,this.apiInstance.fetchTranslations()];case 6:return p=c.sent(),null===h||null===g||null==l?[3,10]:!this.settingsV2.isAggregatorLoaded&&this.settingsV2.checkIfServiceNameExists(l.consentTemplates)?[3,8]:[4,this.settingsV2.extendServices(h,p)];case 7:return c.sent(),[3,9];case 8:this.settingsV2.initLabels(h,p),c.label=9;case 9:this.apiInstance.resetAggregatedServicesCache(),c.label=10;case 10:return this.settingsV2.updateServicesLanguage(t),f=this.dataFacadeInstance.getMergedServicesAndSettingsFromStorage(a),v=f.mergedServicesV2,S=f.mergedServicesData,I=f.mergedSettingsData,o.language.selected=t,I.categories=this.settingsV2.mergeServicesDataIntoExistingCategories(S),this.settingsV2.data=I,(y=this.settingsV2.getDataTransferSettings())&&se.saveSettings(se.mapSettings(y,v),v),it(I)?[4,I.changeLanguage(t)]:[3,12];case 11:c.sent(),c.label=12;case 12:return[2]}}))}))},e.prototype.denyAllForTCF=function(t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return(e=this.settingsV2.getTcfData())?[4,e.denyAllDisclosed(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.denyAllServices=function(t){return void 0===t&&(t="explicit"),a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(d.FALSE),this.settingsV2.getUpdatedServicesDataWithConsent(d.FALSE),"onDenyAllServices",t),[4,this.saveUserActionPerformed()];case 1:return e.sent(),[2]}}))}))},e.prototype.fetchIsUserInEU=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.locationInstance.getIsUserInEU()]}))}))},e.prototype.fetchUserCountry=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.locationInstance.getUserCountryData()]}))}))},e.prototype.getAbTestVariant=function(){return this.apiInstance.getAbTestVariant()},e.prototype.getCategories=function(){return this.initOptions.prefetchServices||En("getCategories","getCategoriesBaseInfo or getCategoriesFullInfo"),this.settingsV2.getCategoriesDataAndLabels()},e.prototype.getCategoriesBaseInfo=function(){return this.settingsV2.getCategoriesBaseInfo()},e.prototype.getCategoriesFullInfo=function(){return a(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return[4,this.apiInstance.fetchTranslations()];case 1:return t=e.sent(),[2,this.settingsV2.getCategoriesFullInfo(this.uiInstance.variant,t)]}}))}))},e.prototype.getCcpaOptOutStatus=function(){var t;return(null===(t=this.settingsV2.getCcpaData())||void 0===t?void 0:t.getIsOptedOut())||!1},e.prototype.saveOptOutForCcpa=function(t,e){return void 0===e&&(e="explicit"),a(this,void 0,void 0,(function(){var n,s;return c(this,(function(i){switch(i.label){case 0:return(n=this.settingsV2.getCcpaData())&&n.getIsOptedOut()!==t?(n.setCcpaStorage(t),s={consentAction:t?"onDenyAllServices":"onAcceptAllServices",consentStatus:t?d.FALSE:d.TRUE,consentString:{CCPA:se.getCcpaString()}},this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(s.consentStatus),this.settingsV2.getUpdatedServicesDataWithConsent(s.consentStatus),s.consentAction,e,s.consentString),[4,this.saveUserActionPerformed()]):[2];case 1:return i.sent(),[2]}}))}))},e.prototype.saveDefaultForCcpa=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return se.setCcpaTimeStamp(),[4,this.saveUserActionPerformed()];case 1:return t.sent(),[2]}}))}))},e.prototype.getControllerId=function(){return this.controllerIdInstance.value},e.prototype.getServices=function(){return this.initOptions.prefetchServices||En("getServices","getServicesBaseInfo or getServicesFullInfo"),this.settingsV2.getServicesDataAndLabels()},e.prototype.getServicesBaseInfo=function(){return this.settingsV2.getServicesBaseInfo()},e.prototype.getServicesFullInfo=function(){return a(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return[4,this.apiInstance.fetchTranslations()];case 1:return t=e.sent(),[2,this.settingsV2.getServicesFullInfo(this.uiInstance.variant,t)]}}))}))},e.prototype.getSettings=function(){var t=this;En("getSettings","getSettingsCore and getControllerId");var e=this.settingsV2,n=e.core,s=e.data,i=e.legacySettings,r=e.translations;if(!n||!s||!i)throw new Error;return n&&s?{controllerId:s.controllerId,googleConsentMode:n.googleConsentMode,id:n.id,isCcpaEnabled:n.isCcpaEnabled,isTcfEnabled:n.isTcfEnabled,reshowBanner:n.reshowBanner,ui:function(){switch(t.uiInstance.variant){case 0:return function(t,e,n){return o(o({},Et(t,e)),{ariaLabels:Tt,buttons:{optOutNotice:{isHidden:e.ccpa.removeDoNotSellToggle,label:e.ccpa.optOutNoticeLabel||"Do not sell my personal information"},save:{label:e.ccpa.btnSave||"okay"},showSecondLayer:{isEnabled:!0,label:e.labels.btnMore,url:e.moreInfoButtonUrl||null}},firstLayer:{description:{default:e.ccpa.firstLayerDescription||"",short:e.ccpa.firstLayerMobileDescription||"",showShortDescriptionOnMobile:e.ccpa.firstLayerMobileDescriptionIsActive},isLanguageSelectorEnabled:!q(e.ccpa.firstLayerHideLanguageSwitch,!e.showLanguageDropdown),isOverlayEnabled:Q(e),title:e.ccpa.firstLayerTitle||"",variant:e.ccpa.firstLayerVariant||"BANNER"},labels:At(e,n),secondLayer:{description:e.ccpa.secondLayerDescription||"",isLanguageSelectorEnabled:!q(e.ccpa.secondLayerHideLanguageSwitch,!e.showLanguageDropdown),isOverlayEnabled:X(e),side:e.ccpa.secondLayerSide||"LEFT",tabs:{categories:{isEnabled:D(e.secondLayer.tabsCategoriesIsEnabled,!0),label:e.secondLayer.tabsCategoriesLabel},services:{isEnabled:D(e.secondLayer.tabsServicesIsEnabled,!0),label:e.secondLayer.tabsServicesLabel}},title:e.ccpa.secondLayerTitle||"",variant:e.ccpa.secondLayerVariant||"CENTER"}})}(n,i,r);case 2:return function(t,e,n){return o(o({},Et(t,e)),{ariaLabels:Tt,buttons:{acceptAll:{label:e.tcf2.buttonsAcceptAllLabel},denyAll:{isEnabled:e.tcf2.buttonsDenyAllIsEnabled,label:e.tcf2.buttonsDenyAllLabel},manageSettings:{label:e.tcf2.linksManageSettingsLabel},save:{isEnabled:!e.tcf2.firstLayerHideToggles||!e.tcf2.secondLayerHideToggles,label:e.tcf2.buttonsSaveLabel},showVendorTab:{label:e.tcf2.linksVendorListLinkLabel}},firstLayer:{description:{additionalInfo:e.tcf2.firstLayerAdditionalInfo||null,default:e.tcf2.firstLayerDescription,resurfaceNote:e.tcf2.firstLayerNoteResurface||null},disclaimer:{serviceScope:e.tcf2.firstLayerNoteService},hideButtonDeny:q(e.tcf2.firstLayerHideButtonDeny,!e.tcf2.buttonsDenyAllIsEnabled),hideNonIabPurposes:e.tcf2.hideNonIabOnFirstLayer,hideToggles:e.tcf2.firstLayerHideToggles,isOverlayEnabled:Q(e),showDescriptions:e.tcf2.firstLayerShowDescriptions,title:e.tcf2.firstLayerTitle},labels:bt(e,e.tcf2,n),secondLayer:{description:e.tcf2.secondLayerDescription,hideButtonDeny:q(e.tcf2.secondLayerHideButtonDeny,!e.tcf2.buttonsDenyAllIsEnabled),hideLegitimateInterestToggles:e.tcf2.hideLegitimateInterestToggles,hideToggles:e.tcf2.secondLayerHideToggles,isOverlayEnabled:X(e),showToggleAllVendors:e.tcf2.vendorToggleAll,tabs:{purposes:{label:e.tcf2.tabsPurposeLabel},vendors:{label:e.tcf2.tabsVendorsLabel}},title:e.tcf2.secondLayerTitle},toggles:{consent:{label:e.tcf2.togglesConsentToggleLabel},legitimateInterest:{label:e.tcf2.togglesLegIntToggleLabel},specialFeaturesToggle:{offLabel:e.tcf2.togglesSpecialFeaturesToggleOff,onLabel:e.tcf2.togglesSpecialFeaturesToggleOn}}})}(n,i,r);default:return function(t,e,n){return o(o({},Et(t,e)),{ariaLabels:Tt,buttons:{acceptAll:{label:e.labels.btnAcceptAll},denyAll:{isEnabled:e.btnDenyIsVisible,label:e.labels.btnDeny},save:{label:e.labels.btnSave},showSecondLayer:{isEnabled:!0,label:e.labels.btnMore,url:e.moreInfoButtonUrl||null}},firstLayer:{description:{default:e.bannerMessage||"",short:e.bannerMobileDescription||"",showShortDescriptionOnMobile:e.bannerMobileDescriptionIsActive},hideButtonDeny:q(e.firstLayer.hideButtonDeny,!e.btnDenyIsVisible),isCategoryTogglesEnabled:e.firstLayer.isCategoryTogglesEnabled,isLanguageSelectorEnabled:!q(e.firstLayer.hideLanguageSwitch,!e.showLanguageDropdown),isOverlayEnabled:Q(e),showCnilDenyLink:e.firstLayer.closeOption===H.LINK,title:D(e.labels.firstLayerTitle,"Privacy Settings"),variant:D(e.firstLayer.variant,"BANNER")},labels:At(e,n),secondLayer:{description:e.labels.titleCorner,hideButtonDeny:q(e.secondLayer.hideButtonDeny,!e.btnDenyIsVisible),hideTogglesForServices:D(e.secondLayer.hideTogglesForServices,!1),isLanguageSelectorEnabled:!q(e.secondLayer.hideLanguageSwitch,!e.showLanguageDropdown),isOverlayEnabled:X(e),side:e.secondLayer.side||"LEFT",tabs:{categories:{isEnabled:D(e.secondLayer.tabsCategoriesIsEnabled,!0),label:e.secondLayer.tabsCategoriesLabel},services:{isEnabled:D(e.secondLayer.tabsServicesIsEnabled,!0),label:e.secondLayer.tabsServicesLabel}},title:e.labels.headerCorner,variant:e.secondLayer.variant||"CENTER"}})}(n,i,r)}}(),version:n.version}:{}},e.prototype.getSettingsCore=function(){var t=this.settingsV2.core;if(!t)throw new Error("Usercentrics: You have to call the init method before!");return t},e.prototype.getSettingsLabels=function(){var t=this.settingsV2.labels;if(!t)throw new Error("Usercentrics: You have to call the init method before!");return t},e.prototype.getSettingsData=function(){var t=this.settingsV2.data;if(!t)throw new Error("Usercentrics: You have to call the init method before!");return t},e.prototype.getSettingsUI=function(){var t=this.settingsV2.ui;if(!t)throw new Error("Usercentrics: You have to call the init method before!");return t},e.prototype.getAriaLabels=function(){var t;return(null===(t=this.settingsV2.labels)||void 0===t?void 0:t.ariaLabels)||Tt},e.prototype.getTCFData=function(){var t=this.settingsV2.getTcfData();return t?t.getTCFData():null},e.prototype.getTCFDisclosedVendorsSegmentString=function(){return this.settingsV2.getTCFDisclosedVendorsSegmentString()},e.prototype.injectTCString=function(t){return this.settingsV2.injectTCString(t)},e.prototype.setTCFUIAsClosed=function(){return a(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return(t=this.settingsV2.getTcfData())?[4,t.setUIAsClosed()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.setTCFUIAsOpen=function(){return a(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return(t=this.settingsV2.getTcfData())?[4,t.setUIAsOpen()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.updateChoicesForTCF=function(t,e){return a(this,void 0,void 0,(function(){var n;return c(this,(function(s){switch(s.label){case 0:return(n=this.settingsV2.getTcfData())?[4,n.updateChoices(t,e)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}}))}))},e.prototype.areAllConsentsAccepted=function(){return this.settingsV2.isTcfAvailable()?this.settingsV2.areAllVendorsAndPurposesAccepted()&&this.settingsV2.areAllServicesAccepted():this.settingsV2.areAllServicesAccepted()},e.prototype.restoreUserSession=function(t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return this.controllerIdInstance.value=t,this.controllerIdInstance.needsSessionRestore=!0,this.settingsV2.setControllerId(t),(e=this.settingsV2.dpsJson)?[4,this.dataFacadeInstance.restoreUserSession(e)]:[3,2];case 1:n.sent()&&this.enableServicesScripts(this.processStorageServicesAndSettings(this.settingsV2.data),this.settingsV2.getGoogleConsentMode(),"onSessionRestored"),n.label=2;case 2:return[2]}}))}))},e.prototype.clearStorage=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,se.clearAll()];case 1:return t.sent(),[2]}}))}))},e.prototype.postMessageAmp=function(t,e,n){return a(this,void 0,void 0,(function(){var u,l,d,g,h,p,f,v,S=this;return c(this,(function(I){switch(I.label){case 0:return u=this.settingsV2.isTcfAvailable(),[4,this.settingsV2.isCcpaAvailable()];case 1:return l=I.sent(),d=function(){var t=S.settingsV2.getTcfData();return u&&(null==t?void 0:t.getTCString)?t.getTCString():l?se.getCcpaString():""},g=function(){return a(S,void 0,void 0,(function(){var t,e,n,s;return c(this,(function(i){switch(i.label){case 0:return s=this.settingsV2.getTcfData(),u&&s?(t=r.TCF_V2,[4,s.getGdprApplies()]):[3,2];case 1:return e=i.sent(),n=this.settingsV2.getTCFPurposeOneTreatment(),[3,3];case 2:l&&(t=r.CCPA),i.label=3;case 3:return[2,o({consentStringType:t},u&&{gdprApplies:e,purposeOne:n})]}}))}))},p=[{action:e,type:t}],(f=function(){return t===s.CONSENT_RESPONSE&&e!==i.DISMISS&&(l||u)}())?(v={},[4,g()]):[3,3];case 2:v.consentMetadata=I.sent(),v.info=d(),f=v,I.label=3;case 3:return h=o.apply(void 0,[o.apply(void 0,p.concat([f])),n&&{initialHeight:n}]),[2,new Promise((function(t,e){try{window.parent.postMessage(o({},h),"*"),t()}catch(n){e(n)}}))]}}))}))},e.prototype.acceptAllAmp=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.postMessageAmp(s.CONSENT_RESPONSE,i.ACCEPT)];case 1:return t.sent(),[2]}}))}))},e.prototype.denyAllAmp=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.postMessageAmp(s.CONSENT_RESPONSE,i.REJECT)];case 1:return t.sent(),[2]}}))}))},e.prototype.saveTCFDataAmp=function(t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return e=t.every((function(t){return t.status})),0!==t.length&&!e?[3,2]:[4,this.postMessageAmp(s.CONSENT_RESPONSE,i.ACCEPT)];case 1:return n.sent(),[3,4];case 2:return[4,this.postMessageAmp(s.CONSENT_RESPONSE,i.REJECT)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e.prototype.dismissAmp=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.postMessageAmp(s.CONSENT_RESPONSE,i.DISMISS)];case 1:return t.sent(),[2]}}))}))},e.prototype.enterFullscreenAmp=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){return[2,this.postMessageAmp(s.CONSENT_UI,i.FULLSCREEN)]}))}))},e.prototype.uiReadyAmp=function(){return a(this,void 0,void 0,(function(){var t,e,n;return c(this,(function(r){return t=this.settingsV2.labels,e="60vh",t&&(n=t.firstLayer.description.default.length,window.screen.height>700&&n<=250&&(e="50vh")),[2,this.postMessageAmp(s.CONSENT_UI,i.READY,e)]}))}))},e.prototype.saveUserActionPerformed=function(){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return se.setUserActionPerformed(),this.uiInstance.selectedLayer?[4,this.settingsV2.initUI(this.uiInstance.selectedLayer,this.uiInstance.variant)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.updateServices=function(t,e){return void 0===e&&(e="explicit"),a(this,void 0,void 0,(function(){var n,s;return c(this,(function(i){switch(i.label){case 0:return n=this.settingsV2.getUpdatedServicesWithDecisions(t),s=this.settingsV2.getUpdatedServicesDataWithDecisions(t),L(n)&&this.dataFacadeInstance.execute(n,s,"onUpdateServices",e),[4,this.saveUserActionPerformed()];case 1:return i.sent(),[2]}}))}))},e.prototype.updateLayer=function(t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return e=this.uiInstance.selectedLayer,this.uiInstance.selectedLayer=t,t===e?[2]:[4,this.settingsV2.initUI(t,this.uiInstance.variant)];case 1:return n.sent(),3!==t?[3,3]:[4,this.loadServices()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.loadServices=function(){return a(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return this.settingsV2.isAggregatorLoaded||!this.uiInstance.selectedLayer?[2]:[4,this.apiInstance.fetchTranslations()];case 1:return t=e.sent(),[4,this.settingsV2.extendServices(this.uiInstance.variant,t)];case 2:return e.sent(),this.apiInstance.resetAggregatedServicesCache(),[2]}}))}))},e.prototype.loadSettings=function(){return a(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return[4,this.apiInstance.fetchSettingsJson()];case 1:return t=e.sent(),this.settingsV2.legacySettings=t,[2,t]}}))}))},e.prototype.updateStorage=function(t,e){return a(this,void 0,void 0,(function(){var n;return c(this,(function(s){switch(s.label){case 0:return this.uiInstance.isFirstTimeVisit()?[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]:[3,2];case 1:return s.sent()?this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(d.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(d.TRUE),"onNonEURegion",this.botInstance.isRobot()?"explicit":"implicit"):this.dataFacadeInstance.execute(this.settingsV2.getServicesDataAndLabels(),this.settingsV2.getServicesData(),"onInitialPageLoad","implicit"),[3,3];case 2:n=null!=t?t:this.processStorageServicesAndSettings(this.settingsV2.data),this.enableServicesScripts(n,this.settingsV2.getGoogleConsentMode(),e?this.dataFacadeInstance.restoreAction:"onInitialPageLoad"),s.label=3;case 3:return[2]}}))}))},e.prototype.enableScriptsForServicesWithConsent=function(){Je.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent())},e.prototype.setTrackingPixel=function(t){var e;!this.initOptions.disableTracking&&(null===(e=this.settingsV2.coreJson)||void 0===e?void 0:e.interactionAnalytics)&&this.apiInstance.setTrackingPixel(t,this.getControllerId())},e.prototype.addTrackingPixel=function(t,e){void 0===e&&(e=!1);var n=new Image,s=this.domains&&""!==this.domains.app?"".concat(this.domains.app,"/session/1px.png"):"https://app.usercentrics.eu/session/1px.png",i=e?"https://app.eu.usercentrics.eu/session/1px.png":s;n.src="".concat(i,"?settingsId=").concat(t)},e.prototype.processStorageServicesAndSettings=function(t){if(!t)return[];var e=this.dataFacadeInstance.getMergedServicesAndSettingsFromStorage(t),n=e.dataTransferSettings,s=e.mergedServicesData,i=e.mergedServicesV2,r=e.updatedEssentialServicesV2;return this.dataFacadeInstance.mergeServicesAndSettings(i,s,n,r)},e.prototype.enableServicesScripts=function(t,e,n){Je.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent()),this.eventDispatcherInstance.dispatch(t,e,n)},e}();export{Ct as $,Te as A,De as B,Ht as C,Jt as D,V as E,jt as F,Ve as G,Be as H,Me as I,Kt as J,z as K,B as L,q as M,T as N,ke as O,Ge as P,C as Q,xe as R,se as S,zt as T,Z as U,ht as V,Wt as W,pt as X,yt as Y,tt as Z,l as _,u as a,mt as a0,ft as a1,It as a2,vt as a3,St as a4,I as a5,Q as a6,X as a7,Bn as a8,H as a9,$e as aa,On as ab,Nn as ac,st as ad,ot as ae,ut as af,rt as ag,ct as ah,dt as ai,gt as aj,it as ak,at as al,lt as am,bn as an,Ln as ao,_n as ap,f as aq,v as ar,S as as,y as at,$t as au,Yt as b,Dn as c,n as d,Zt as e,Gt as f,Ye as g,a as h,c as i,en as j,Ke as k,o as l,Ce as m,L as n,ie as o,t as p,m as q,N as r,ue as s,D as t,w as u,ve as v,Fe as w,Ze as x,b as y,Pe as z};
